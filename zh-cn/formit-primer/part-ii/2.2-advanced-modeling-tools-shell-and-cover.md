# 2.2 - 高级建模工具：壳和盖板

_壳从实体创建一个具有给定厚度的中空形状，而盖板从边的闭合环创建一个面（不一定共面）。这些工具简单但功能强大，可用于从几乎任何几何形状快速创建形状。_


_在本练习中，我们将基于_ _**Encode Campus Sample Model.axm**_ _使用壳和盖板创建顶层，同时接触_ _**FormIt Primer Part I** 未涉及的其他各种建模工具。如果尚未下载，可以从_ _**FormIt Primer Part 2 数据集**_下载上述文件。

## **为顶层体量建模**

_首先，我们将使用各种建模工具为顶层创建体量形状。可以按部就班地创建，也可以发挥创意并制作自己的设计！_

1 - 打开**“Encode Campus Sample Model.axm”**后，转到**“顶层”场景**（或调整视图和图层，以便可以看到主建筑物的屋顶）。

2 - 让我们使用一些几何基本体快速创建形状：

1. 在**“标准工具栏”**中，通过**“创建基本体”**下拉按钮选择**“立方体(Alt + B)”**。
2. 在立方体预览处于活动状态时，按 **Tab** 键设置其尺寸（宽度：**100’**、深度：**15’**、高度：**10’**），然后将其放置在屋顶上与下图类似的位置。与放置构件类似，可以按**空格**键将立方体每次旋转 90 度。
3. 添加第二个**“立方体(Alt + B)”**（宽度：**30'**、深度：**15'**、高度：**12'**），然后将其旋转 **8.5** 度，使其与主立面角度匹配，并与长立方体成 **98.5** 度角。定位此立方体，使其与长立方体相交，如下图所示。

![](../../.gitbook/assets/0%20%2811%29.png)

_**注意：**_ _确保两个立方体都直接位于屋顶曲面上。移动时，很容易意外更改其标高。_

3 - 为了使长方体最终成为一个更引人注目的空间，我们将使用**“倾斜面(TF)”**工具倾斜其的一些面。

1. 选择倾斜长方体的 NE 或 NW 面、单击鼠标右键以显示**关联菜单**，然后选择**“倾斜面(TF)”**。
2. 将面向外倾斜 **15** 度。就像许多 FormIt 工具一样，可以按 **Tab** 键，或直接开始键入数字。
3. 对相邻面执行相同的操作，如图所示。

![](../../.gitbook/assets/1%20%2815%29.png)

_**注意：**_ _在_ _**“倾斜面(TL)”**_ _工具中，可以围绕所需的任何轴旋转选定面。只需使用圆形夹点调整旋转轴（蓝色虚线）。_

4 - 为了使形状更复杂，我们将添加一些曲线：

1. 打开**“创建基本体”**下拉列表，但这次选择**“圆柱体”**。
2. 现在，使用默认半径 **6'** 和高度 **12'**，将圆柱体放置在屋顶上的任意位置。
3. 使用**“非均匀缩放”**工具，沿与长方体平行的方向将圆柱体拉伸 **300%**。要了解有关缩放工具的详细信息，请参见**“1.11 - 使用内容库输入模型”一章。**
4. 移动圆柱体，使其长轴的中心沿长方体的边，如图所示。不要忘记，像下图第二幅中所使用的**“俯视图(VT)”**一样，在视图之间不断切换有助于对对象进行建模和将其移动到位。

![放置和缩放圆柱体](../../.gitbook/assets/2%20%2815%29.png)

![将拉伸的圆柱体移动到位](../../.gitbook/assets/3%20%288%29.png)

_**注意：**_ _到目前为止，尽管我们所放置的形状重叠，但仍然可以通过双击其任何面或边来分别选择每个形状。这是因为，无论何时放置（或创建）闭合形状，FormIt 都会将其识别为“实体”并将同时跟踪其几何图形，直到您有意将其与其他对象连接。_

## **连接和剪切**

_我们可以使用_ _**“连接几何图形(JG)”**_ _和_ _**“剪切几何图形(CG)”**_ _工具，将刚刚创建的形状合并为一个形状。_

1 - 首先，我们将进行以下连接：

1. 在**“标准工具栏”**中，单击**“高级几何图形工具”**下拉列表，然后选择**“连接几何图形(JG)”**工具。
2. 这将显示**“连接几何图形向导”**。与在**“1.9 – 添加详图”**一章中使用**“扫掠”**工具类似，所有高级几何图形工具都有自己的向导来引导您完成其使用。
3. 选择其中一个长方体。请确保双击以选择整个实体，而不仅仅是一个面。请注意，向导将自动移至下一步。
4. 选择其余长方体。
5. 在向导中单击复选标记以完成连接。要检查它是否有效，您应该能够通过一次双击选中所有新连接的几何图形。

![](../../.gitbook/assets/4%20%287%29.png)

_**注意：**_ _如果当前选择已包含可连接的几何图形（如两 (2) 个或多个重叠实体），则还可以通过在选定的几何图形上单击鼠标右键，从关联菜单访问_ _**“连接几何图形(JG)”**_ _工具。_

2 - 现在，我们将从长方体体量中剪切出椭圆：

1. 在未选择几何图形的情况下，转到**“高级几何图形工具”**，然后单击**“剪切几何图形(CG)”**。
2. 将显示**“剪切几何图形”** **向导**。请务必仔细阅读其内容，因为在剪切（与连接不同）时，选择几何图形的顺序非常重要。
3. 首先**选择要切入的实体**，在本例中是我们在上面所创建的长方体体量。
4. 接下来**选择要删除的实体**，即椭圆柱。
5. 在向导中单击复选标记以完成剪切。

![](../../.gitbook/assets/5%20%284%29.png)

_**注意：**_ _请注意，设置为要“删除”的椭圆不会遭删除，但其几何图形是从长方体几何图形中切割出来的，正如我们在下一步中将看到的那样。_

3 - 要完成操作，请将椭圆的顶面向下拖动 **11’-6”**，使其成为 6” 厚的平台。以后，我们可以将它用作我们屋顶花园露台的起点。现在，您应该能够清楚地看到我们刚刚创建的剪切。

![](../../.gitbook/assets/6%20%288%29.png)

## **壳和盖板**

_体量构建完毕后，我们可以使用__**“壳实体(SH)”**__快速创建具有墙、楼板和屋顶（全都有厚度）的空间。然后，我们可以使用__**“盖板(CV)”**__，为顶层快速创建一些玻璃面。_

1 – 如果选择整个实体，则壳工具将从选定几何图形的所有侧面创建一个偏移“壳”- 使其中空但仍覆盖所有侧面。通常，使用壳工具更有用的方法是：选择不希望包含在壳中的实体相应面。听起来很混乱？其实很简单，下面我们来试一试：

1. 在**“高级建模工具”**中，选择**“壳实体(SH)”**。
2. 在显示的**“偏移距离”**对话框中，为厚度输入 **-8”**，然后按**“确定”**。
3. 通过单击操作，只选择要保持打开状态的三个面：之前创建的曲面和两个倾斜面。
4. 在向导中单击复选标记以完成壳。

_**注意：**_ _负的壳偏移值将使新曲面朝形状内侧偏移，而正值将使新曲面朝外侧偏移。_

![壳正在处理](../../.gitbook/assets/7%20%285%29.png)

![壳已完成](../../.gitbook/assets/8_finished-shell.png)

2 - 现在，我们几乎拥有完整的顶层，只是缺少几面墙。我们可以使用**“盖板(CV)”**命令，从选定的一圈边快速创建一些曲面。首先，我们覆盖弯曲区域：

1. 在**“高级建模工具”**中，选择**“盖板(CV)”**。
2. 选择弯曲洞口周围的所有四 (4) 条边。可能需要使用 **Tab** 键，一次选择整个弯曲边。
3. 在向导中单击复选标记以完成盖板。

![](../../.gitbook/assets/8%20%289%29.png)

_**注意：**_ _每当使用向导（无论是高级建模工具之一还是 Dynamo 脚本）期间系统提示您进行选择时，无需按住_ _**Ctrl**_ _或_ _**Shift**_ _即可取消选择或选择多个对象。要移除以前选择的对象，只需再次单击它。_

3 - 对倾斜面所在的洞口执行相同的操作。如果您一直在关注我们的设计，将需要选择八 (8) 条边。

![](../../.gitbook/assets/9%20%285%29.png)

## **完成**

_为了完成顶层设计，我们将采用一些方法，以从刚刚创建的曲面快速创建幕墙。_

1 - 首先使用内置的 Dynamo **店面幕墙**脚本。如果对在 FormIt 中使用 Dynamo 不熟悉，请查看 FormIt Primer Part I 中的 **1.10 - Dynamo 的计算组**一章。

1. 在**“Dynamo 选项板”**中，确保文件夹下拉列表设置为**“Dynamo 样例”**。
2. 向下滚动，然后单击**“店面幕墙”**磁贴，这将启动此脚本的向导。
3. 在画布中，选择刚刚使用**“盖板(CV)”**工具创建的两个倾斜曲面。
4. 在向导中单击复选标记，然后等待脚本运行。这可能需要几秒钟。
5. （可选）更新脚本参数并重新运行它，直到竖梃布局根据您的喜好进行调整。我们从其默认值更改的输入为：
   1. 竖梃深度：**0.5**
   2. 第一个水平竖梃间距（在中心上）：**4.833**
   3. 典型水平竖梃间距（在中心上）：**4.833**
6. 使用所选择的透明材质绘制用于脚本输入的曲面。我们使用了**“玻璃 - 新”**。

![](../../.gitbook/assets/10%20%283%29.png)

![](../../.gitbook/assets/11%20%285%29.png)

_**注意：**_ _如果要详细了解 FormIt 中 Dynamo 的高级使用，请查看专门处理 Dynamo 的“Primer Part II”一章：_ _**Dynamo FormIt 节点**。_

2 – 遗憾的是，我们在最后一步中所使用的脚本在曲面上并不总是很好用。为曲面快速提供样例曲面幕墙外观的另一个技巧是使用带有**“裁切”**贴图的材质，这会使材质的一部分变得透明。FormIt 附带了三 (3) 种内置材质，如幕墙的材质。现在，我们只需抓取一个曲面、绘制曲面，然后使用**“调整材质放置”**工具对其进行缩放：

1. 在**“材质选项板”**中，从**“材质样例 > 玻璃+玻璃制品”**输入**“玻璃 - 带拱肩的店面”**，然后使用此材质绘制曲面。有关如何输入和使用材质的详细信息，请参见 FormIt Primer Part I 中的 **1.7 - 使用材质绘制**一章。
2. 在刚刚绘制的曲面上单击鼠标右键，然后选择**“调整材质放置** **(MP)”**。
3. 使用向上和向下箭头，垂直缩放材质，直到薄水平窗带上方的竖梃刚好在弯曲洞口的顶边下方可见。在我们的设计中，我们发现输入高度为 **8’-7”** 效果很好。
4. 现在，使用水平箭头水平缩放材质，使垂直竖梃相距大约 3’，类似于倾斜幕墙中使用的间距。在我们的设计中，我们发现值为 **9’** 效果很好。

![使用裁切幕墙材质绘制](../../.gitbook/assets/12%20%286%29.png)

![垂直拉伸材质](../../.gitbook/assets/13%20%282%29.png)

![水平拉伸材质](../../.gitbook/assets/14%20%281%29.png)

3 - 为设计添加一些收尾工作！在下面的完成图像中，我们为增强屋顶所做的一些操作包括：

* 使用了**“扫掠(SP)”**，添加绑定到屋顶轮廓的女儿墙。
* 使用了 OOTB Dynamo 脚本**“沿路径阵列”**，围绕屋顶周长放置阶梯式瓷砖。
* 为顶层添加了各种瓷砖材质，使用使用上述**“调整材质放置”** **(MP)** 工具旋转和调整其连接。
* 下载、转换了太阳能电池板的 .skp 文件，然后将其输入到模型中。要了解有关如何输入各种文件类型的详细信息，请参见**“高级输出和输入”**部分。
* 使用**“生成灯串”**插件添加了一些灯串 – 要了解有关插件的更多信息，请务必查看第 II 部分的下一章：**“插件”**。

可以将您自己的创意融入模型，并探索我们在本章中并未涉及的其他一些高级建模工具！可以通过从**“编码模型数据集”**下载并打开**“Encode Campus Sample File\_Completed.axm”**，将您的创意与我们完成的样例模型进行比较。

![已完成模型中的场景。](../../.gitbook/assets/15%20%281%29.png)

\_\_

