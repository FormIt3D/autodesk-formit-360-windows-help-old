# 1.10 - Dynamo 的计算组

_在本章中，我们将利用_ [_**Dynamo**_](http://dynamobim.org/) _的计算能力，来放置和修改与 OOTB Dynamo 图形样例相关联的灵活组。_

_如果您未完成最后一部分，请从_ _**“FormIt Primer Part 1 数据集”**下载并打开_ _**“1.10 – Computational Groups with Dynamo.axm”**_ _文件。_

_可以_ [_**在此处详细了解**_](http://formit.autodesk.com/page/formit-dynamo) _FormIt 和 Dynamo 如何协同工作以实现计算设计工作流。_

## **创建下阶地楼梯**

1 - 确保**“下阶地”、“主建筑物楼层”**和**“平面图像”**图层处于打开状态，因为我们将在其中添加楼梯。

2 - 放置与其中一个 OOTB Dynamo 样例相关联的楼梯组的步骤：

1. 在“选项板栏”中，打开**“Dynamo 选项板”**。您应该会在**“Dynamo 样例”**目录中看到一些内置 Dynamo 对象
2. 单击**“楼梯”**Dynamo 样例，以将其引入模型空间。FormIt 将在后台运行图形，并基于该图形生成楼梯几何图形。
3. 将光标移动到画布上，在完成加载楼梯后，楼梯几何图形的重影预览即会随鼠标光标一起移动。将光标移动到画布上阶地附近，然后单击以放置楼梯。按 **Esc** 键以清除选择。 请注意，放置楼梯后，**“特性选项板”**将自动打开。

![](../../.gitbook/assets/0%20%2815%29.png)

_**注意：**_ [_**还可以链接包含 Dynamo 图形的本地目录**_](https://formit.autodesk.com/page/formit-dynamo#dynamo-getting-started) _，并像这些样例一样运行您自己的本地 Dynamo 图形。_

3 - 更新楼梯尺寸的步骤：

1. 选择楼梯组后，修改**“特性选项板”**底部 Dynamo**“输入”**部分下可用的输入以匹配，如下图所示。通过 Dynamo 脚本创建的大多数组会将 Dynamo 部分包含在其特性（如果已选择）中。
   * 添加顶部平台 = False
   * 添加中间平台 = False
   * 添加底部平台 = False
   * 楼板之间的高度 = 2.6
   * 楼梯宽度 = 12
   * 踢板高度 = 0.6
   * 踏板长度 = 1.25
   * 踏板重叠 = 0.25
   * 踏板厚度 = 0.25
   * 中间平台之间的高度 =（不相关，因为未创建中间平台）
   * 中间平台长度 =（不相关，因为未创建中间平台）
   * 顶部/底部平台长度 =（不相关，因为未创建平台）
2. 单击**“运行”**按钮，以使用更新的输入值重新运行 Dynamo 脚本。
3. 根据**“平面图像”**，按需移动组以将楼梯放置于正确的位置。移动楼梯组时，请务必不要修改其标高。请参见前面几章，以详细了解移动模型图元时的技巧。

![](../../.gitbook/assets/1%20%2811%29.png)

_**注意：**_ _**“楼板之间的高度”**_ _输入约为楼梯的总高度。__**“踢板高度”**__是实际定义楼梯高度的参数。在此示例中，我们将__**“楼板之间的高度”**__设置为“2.6’”，但楼梯的最终高度为“3.0’”（0.6'（**“踢板高度”**）x 5（踢板数））。由于地面与楼板顶部阶地之间的跨度为 3’-2”，因此剩余 2” 包含在上部踢面中。_

## **创建主建筑物楼梯**

_在前面的步骤中，我们创建了没有平台的楼梯。现在，我们将创建一个楼梯，该楼梯使用与_ _**“主建筑物楼层”**对齐的上层平台。_

1 - 先创建我们刚刚创建的楼梯的副本：

1. 选择现有楼梯，然后单击**“平面图像”**上的任意位置以启动移动命令。这将导致 FormIt 使用**“平面图像”**的标高作为放置新副本的起始参照高度。按 **Ctrl** 键，以创建**快速复制**。
2. 将光标移近阶地上方的主建筑物。请注意，现在阶地的顶面是新的参照平面。单击以放置组。

![](../../.gitbook/assets/2%20%289%29.png)

_**注意：**_ _由于_ _**“平面图像”**_ _位于_ _**“地面标高”**_ _平面，因此_ _**“移动工具”**_ _会将该平面用作其起点的参照。请注意，上图中的_ _**“在面上”**_ _工具提示，指示“平面图像”面已选作起始参照，而_ _**“下阶地楼层”**_ _的顶面已选作结束参照。_

2 - 使用**“使唯一(MU)”**工具，以便我们更改此楼梯的 Dynamo 输入时，它不会影响下部楼梯。根据需要重新定位组，使该组接近其最终位置 - 我们稍后将对此进行微调。可以切换**“下阶地”**图层的可见性，以查看下方平面来帮助定位它；但同样请注意，在移动新楼梯时，不要更改其标高。

3 - 在**“特性选项板”**中，更新**“Dynamo 输入”**（如下所示），然后再次运行脚本。

* 添加顶部平台 = True
* 楼板之间的高度 = 2.333
* 踢面高度 = 0.466
* 踏板长度 = 1.5
* 顶部/底部平台长度 = 2.5

![](../../.gitbook/assets/3%20%281%29.jpeg)

_**注意：**_ _如果将_ _**“添加底部平台”**_ _设置为_ _**“True”**_ _并重新运行脚本，则底部平台的顶面应与_ _**“下阶地楼层”**的顶面对齐。发生这种情况是因为（与之前的楼梯不同），我们调整了_ _**“踢板高度”**_ _，使_ _**“楼板之间的高度”**_ _与所需的实际高度（2’-4” 或 2.333’）匹配。_

2 - 再次将组重新定位到其最终位置。顶部平台应与**“主建筑物楼层”**齐平。

3 - 要完成楼梯，请向其添加**“石材 - 石灰华”**材质以匹配楼板。要了解有关如何应用材质的详细信息，请参见前面几章。

