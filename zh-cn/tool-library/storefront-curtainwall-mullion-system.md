# 店面/幕墙竖梃系统

![](../.gitbook/assets/dynamo-storefront-system-options.gif)

## 由 Dynamo 提供支持

Dynamo 支持在 FormIt 中快速创建店面/幕墙竖梃系统。可以在 Dynamo 面板的“Dynamo 样例”目录中找到“店面幕墙系统”系统：

![](../.gitbook/assets/storefront-curtainwall-button%20%281%29.png)

## 为竖梃系统选择“玻璃”

从 FormIt 2021.2 开始，店面幕墙系统使用新的 [SelectFromFormIt 节点](https://formit.autodesk.com/page/formit-dynamo#dynamo-formit-nodes)，从而让您可以选择一块围绕其生成竖梃系统的“玻璃”（一个面或拉伸实体）。

![一个简单的“玻璃”平面，其底部为门的洞口。](../.gitbook/assets/storefron-system-1_glass-only.png)

单击“店面幕墙”缩略图（注意图标，指示需要选择）时，FormIt 将提示您选择玻璃几何图形以继续：

![](../.gitbook/assets/storefront-curtainwall-prompt.png)

有关如何选择玻璃的一些注意事项：

* 当前，仅支持平面曲面。如果选择一系列曲面（例如，由较小平面曲面组成的“弯曲”曲面），则脚本将查找最大的平面并使用它。
* 如果玻璃是实体（即一个稍微拉伸的面以传达一点厚度），则脚本将查找最大的曲面，因此生成的竖梃将在玻璃实体的一侧生成。
* 可以为门绘制洞口、从玻璃边界删除生成的曲面，然后生成的竖梃将遵循门洞口，从而为添加门将其保留为空。
* 由于 Dynamo 的限制，如果玻璃几何图形中间有洞口，则此脚本将不起作用。

## 提示和技巧

在 FormIt 中为 Dynamo 图形选择几何图形时，某些组织技巧可以简化体验并允许轻松实例化结果：

* 将玻璃放在组中，然后使用该组作为“店面/幕墙”脚本的选择。 
   这样一来，在生成竖梃后，可以更轻松地编辑玻璃轮廓；如果梯段之间的玻璃已经过大量修改，且面 ID 已更改，则组将确保脚本始终会找到该玻璃 - 因为它使用的是组 ID，而不是面 ID。
* 如果计划将竖梃系统的结果复制并粘贴到模型中的其他位置，则最好将玻璃和生成的竖梃包含在组中。这还将防止在仅复制并粘贴生成的竖梃组时，选择节点不知道要使用哪个玻璃实例的问题。
   * 先将玻璃放入组中。双击它以选择玻璃，然后点击 G 或使用上下文菜单或工具栏中的组命令。
   * 选择生成的组，然后将其放入其他组。
   * 双击以进入第一个组。这是玻璃和生成的竖梃的“容器”。
   * 单击“店面幕墙”缩略图，然后将玻璃组用作选择。
   * 脚本运行后，可以退出组，然后根据需要复制/粘贴容器。可以编辑任何实例（调整玻璃形状或参数），而不会出现问题。

## 竖梃系统选项

选择玻璃并运行脚本后，您将在 FormIt 画布中以 FormIt 组的形式获得结果。此组将自动选中，“特性”面板将显示可用选项。

![](../.gitbook/assets/storefront-curtainwall-parameters.png)

* **运行**：如果修改玻璃的形状，并且要重新运行图形以更新竖梃结果，请单击此按钮。
* **编辑嵌入的图形**：编辑将生成几何图形的 Dynamo 脚本。此脚本嵌入在 FormIt 文件中，并且特定于此组。
* **选择玻璃(曲面或实体)**：单击此按钮，可将选择更新为一块不同的要围绕其生成竖梃的玻璃。

该脚本会将默认值用于其首次运行，因此您需要针对您的独特用例调整这些值。所有值都将使用当前 FormIt 单位。

* **竖梃宽度 + 深度**：所有竖梃图元的宽度和深度。
* **垂直竖梃间距**：每个竖梃之间的中心距离。
* **翻转垂直竖梃布局**：脚本从任意选择的一侧开始垂直竖梃间距。如果结果在您用例的错误一侧开始竖梃间距，请将该选项设置为“True”，以将布局翻转为从另一侧开始。
* **中心垂直竖梃布局**：从玻璃的中间开始计算垂直竖梃间距，而不是从玻璃的一端开始计算，从而创建垂直竖梃的对称布局。
* **第一个水平竖梃间距**：设置从底部开始的第一个水平竖梃间距。如果底部需要一排较短的玻璃模块，且与水平竖梃间距的其余部分分开，则此选项非常有用。
* **水平竖梃间距**：从上述第一个竖梃之后开始，在中心上的典型水平竖梃间距。
* **翻转水平竖梃布局**：如果希望水平竖梃布局从顶部而不是底部开始，请将该选项设置为“True”。
* **中心水平竖梃布局**：从玻璃的中间开始计算水平竖梃间距，而不是从玻璃的底部或顶部开始计算，从而创建水平竖梃的对称布局。

## 隐藏的选项

需要更多自定义？FormIt 特性面板中隐藏了多个高级选项，但可以通过单击“编辑嵌入的图形”访问这些选项，以在 Dynamo 中显示完整的图形内容：

![](../.gitbook/assets/dynamo-edit-embedded-graph.png)

### 随机化的竖梃

![](../.gitbook/assets/storefront-curtainwall-random-verticals.png)

* **随机化垂直和水平竖梃布局**：将该选项设置为“True”，可随机间隔垂直或水平竖梃
* **最小/最大竖梃间距(如果随机)**：调整这些值，可设置最小和最大随机间距值的范围

### 边竖梃

![](../.gitbook/assets/storefront-curtainwall-border-mullion-options.png)

* **翻转边界竖梃的偏移方向：**默认情况下，竖梃系统将使用玻璃边界，并向内偏移它以创建边界竖梃。要向外偏移，请将此选项设置为“True”。这将通过“竖梃宽度”设置，增加玻璃边界之外竖梃系统的总体大小。
* **选择与边界竖梃之间的公差**：默认情况下，竖梃系统将恰好在玻璃的边界处生成，这可能会导致玻璃边缘与边界竖梃外表面碰撞处出现 Z 方向冲突。在大多数情况下，这将不可见，但如果用例要求系统的边缘可见，并且您想要避免出现 Z 方向冲突，请启用该选项并根据需要调整公差值。

