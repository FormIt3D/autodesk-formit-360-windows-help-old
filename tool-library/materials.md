# マテリアル

FormIt モデルに反射、光沢、バンプ マップをサポートするマテリアルを取り込みます。

## [マテリアル]パネル

![](<../.gitbook/assets/materials-sample-category (2).png>)

[マテリアル]パネルでは、さまざまなマテリアル サンプルから選択したり、リンクされたマテリアル ライブラリ間をナビゲートできます。FormIt 2021 では、他の FormIt (.AXM)ファイルのマテリアル コンテンツにアクセスして使用できます。

### マテリアル ライブラリ ソース

FormIt 2021 以降の[マテリアル]パネルにはドロップダウン インタフェースがあり、使用可能なマテリアル ライブラリ ソース(スケッチ内、マテリアル サンプル、[リンクされたライブラリ](https://windows.help.formit.autodesk.com/tool-library/materials#linking-material-libraries))から選択できます。

![](<../.gitbook/assets/materials-directory-picker (1).png>)

#### スケッチ内

現在の FormIt スケッチに保存されているマテリアルが表示されます。

#### マテリアル サンプル

使用可能なサンプルのマテリアルのリストが表示されます。このサンプルはクラウド ベースのサーバに保存されているため、次の点にご注意ください。

* [マテリアル サンプル]カテゴリに初めてアクセスする場合は、インターネット接続が必要です。
* カテゴリに初めてアクセスすると、ダウンロードされてコンピュータにキャッシュされるため、その後のセッションではダウンロードする必要はありません。
* FormIt チームは、マテリアル サンプルで提供する内容を更新することがあります。その場合、FormIt では自動的にそのカテゴリが削除されて再ダウンロードされ、最新の情報が取得されます。

![](../.gitbook/assets/materials-samples\_original.png)

**リンクされたライブラリ**

その他のフォルダや場所は、[マテリアル ライブラリをリンク](https://windows.help.formit.autodesk.com/tool-library/materials#linking-material-libraries)した後に表示されます。

### 作成、削除、スポイト

![](../.gitbook/assets/materials\_add.PNG) 色、テクスチャ、バンプ マップ、カットアウト マップ、透過度、反射/光沢の設定を定義して、**新しいマテリアルを作成**します。

![](<../.gitbook/assets/materials\_delete (1) (1).PNG>) 選択したマテリアルを**削除**します。

![](../.gitbook/assets/materials\_eyedropper.PNG) シーン内のペイントされたマテリアルを**スポイト**で吸い上げるようにして、すぐにペイントを開始します。

* [スポイト]ツールをクリックした後、マテリアルでペイントする面をクリックします。
* 面の上にあるマテリアルがパネルでハイライト表示され、そのマテリアルをロードした状態で[ペイントブラシ]ツールがアクティブになります。

### 更新、ライブラリをリンク、未使用項目を削除

![](../.gitbook/assets/materials-link.png) ローカルのフォルダから**マテリアル ライブラリをリンク**します。JPG、PNG、または AXM (FormIt)ファイルを含むフォルダには、コンテンツが表示されます。詳細については、「[マテリアル ライブラリをリンクする](https://windows.help.formit.autodesk.com/tool-library/materials#linking-material-libraries)」を参照してください。

![](../.gitbook/assets/materials-refresh.png) 現在のフォルダを**更新**します。ローカルでリンクされたフォルダを表示している場合にのみ有効です(スケッチ内やマテリアル サンプルでは無効です)。

![](../.gitbook/assets/materials-purge.png) 現在の FormIt スケッチのマテリアルから**未使用項目を削除**します。

未使用のマテリアルは、処理を繰り返すことで自然に蓄積されますが、高品質のテクスチャが使用されている場合は、ファイル サイズが大幅に増えることがあります。

未使用のマテリアルは、スケッチ内リストで名前が灰色で表示されます。

未使用のマテリアルをすべて削除するには、[未使用項目を削除]ツールをクリックします。確認のメッセージが表示されるため、キャンセルも可能です。このボタンは、[スケッチ内]リストでのみ有効です。

### マテリアル ライブラリをリンクする

FormIt 2021 以降では、JPG、PNG、FormIt ファイルのフォルダなど、マテリアル コンテンツを含むローカル フォルダ(ライブラリ)に[マテリアル]パネルをリンクすることができます。

![](../.gitbook/assets/materials-axms.png)

![View individual Materials from a FormIt file, or JPG/PNG files in a directory.](../.gitbook/assets/materials-axm-content.png)

* **JPG/PNG ファイル**はマテリアルとして表示され、現在の FormIt スケッチに直接ペイントできます。
   * サムネイルをクリックすると、イメージ ファイルがすぐに FormIt マテリアルに変換され、現在のスケッチにコピーされます。
   * FormIt は「スケッチ内」フォルダに戻り、コピーしたマテリアルがスケッチに表示されます。
* **FormIt ファイル(\*.axm)**は、FormIt アイコンが付いたフォルダとして表示されます。
   * FormIt ファイル フォルダをクリックすると、そのファイルに保存されているすべての FormIt マテリアルが表示されます。
   * FormIt は、マテリアル コンテンツを取得するためにファイルの一部をロードする必要があるため、大きなファイルの場合はパネルでマテリアルを表示するのに時間がかかることがあります。

### マテリアルの相互作用

**マテリアルをペイント**するには、サムネイルをシングルクリックします。[ペイントブラシ]ツールがアクティブになり、FormIt のキャンバスでジオメトリにカーソルを合わせて面またはグループをクリックすると、ペイントできます。

[ペイントブラシ]ツールがアクティブになったら、次のように操作します。

* シングルクリックで面とグループをペイントします。
   * グループをペイントすると、マテリアルはネストされたジオメトリに重ねて表示され、既定のマテリアルでペイントされたサーフェスまたはグループを隠します。
* 面をダブルクリックしてアタッチされたすべての要素を選択すると、ソリッド全体がペイントされます。

面とグループを最初に選択してからマテリアルのサムネイルをシングルクリックして、そのマテリアルで選択した要素をペイントすることもできます。

**マテリアルを編集**するには、サムネイルをダブルクリックします。マテリアル エディタが表示されます(次を参照)。

**マテリアルの名前を変更**するには、名前をダブルクリックします。

**ジオメトリにペイントされたマテリアルを特定**するには、ジオメトリを選択し、選択したジオメトリにペイントされたマテリアルを示すハイライト表示とアイコンを探します。

![](../.gitbook/assets/material\_selected.png)

**既定のマテリアル**を使用すると、マテリアルの面やグループを効果的に「クリア」することができます。マテリアルでペイントされていないジオメトリは特に指定がない限り、既定のマテリアルでペイントされます。

### リストの管理

列の幅を調整してサムネイルのサイズを調整します(「マテリアル」の右にある垂直線をクリックしてドラッグします)。

特定のマテリアルをフィルタするには、[フィルタ]バーに入力します。

名前が灰色のフォントで表示されるマテリアルは、現在のスケッチで使用されていないものです。

## マテリアルを作成および編集する

![](<../.gitbook/assets/materials-editor (1).png>)

マテリアルを作成または編集する際、[マテリアル エディタ]ダイアログが表示され、次の項目をカスタマイズできます。

* **色**
* **イメージ マップ**
   * サムネイルをクリックして新しいマップを選択します。
   * 別のアプリケーションで編集するためにマップを保存するには、[保存]アイコンをクリックします。
   * このマテリアルからマップを削除するには、[削除]アイコンをクリックします。
      * **イメージ ファイルからのテクスチャ**
         * JPG または PNG
      * **イメージ ファイルからのバンプ マップ**
         * JPG を推奨
         * マテリアルに奥行き効果を追加するのに適しています。
         * ShaderMap のようなフリーウェアを使用すると、テクスチャを指定したバンプ マップを生成できます。
      * **イメージ ファイルからのカットアウト マップ**
         * PNG
         * 金網フェンスや穴あきパネルなど、選択透過性を持つマテリアルに適しています。
* **名前**
* **水平および垂直スケール**
   * [縦横比を固定]ボタンを有効にすると、水平および垂直スケールはテクスチャの縦横比に従います。
   * 垂直スケールと水平スケールを別々に調整して、マテリアルをストレッチします。
   * [マテリアルの配置を調整]ツール(次を参照)を使用して、面ごとに水平および垂直スケールを変更できます。
* **透過度**、**反射**、**光沢**

## マテリアルの配置を調整する

面にマテリアルをペイントする場合、FormIt では最適な推測値で最適な方向に設定されます。

* 垂直面は、テクスチャの上が Z 軸の方向となるように設定されます。
* 水平面は、テクスチャの縦方向が面の最も長い側面に沿うように設定されます。

**[マテリアルの配置を調整]**ツールを使用して、特定の面上で、既定のマテリアルの配置とマテリアルのスケールを変更します。

* マテリアルでペイントされた面を選択します。
   * 面が親グループからマテリアルを継承している場合は、最初に面を直接ペイントする必要があります。
* [マテリアルの配置を調整]ツールには、ショートカットの MP または右クリックで表示されるコンテキスト メニューからアクセスします。

![](../.gitbook/assets/adjust-material-placement.PNG)

画面上のコントロールを使用して、面上で直接マテリアル テクスチャをインタラクティブに移動、回転、スケールします。

![](../.gitbook/assets/materialplacement.gif)

![](../.gitbook/assets/adjust-material-placement.gif)

マテリアルの配置に加えた変更をリセットするには、[マテリアル]パネルから元のマテリアルを使用して面を再びペイントします。

## Revit へのマテリアルの変換

Revit 2018 以降では、[FormIt アドイン](https://formit.autodesk.com/page/formit-revit)を使用すると、マテリアルが Revit に転送されます。
