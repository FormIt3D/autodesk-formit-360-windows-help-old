# ショー ウィンドウ/カーテン ウォールのマリオン システム

![](../.gitbook/assets/dynamo-storefront-system-options.gif)

## Dynamo 提供

Dynamo を搭載した FormIt では、ショー ウィンドウやカーテン ウォールのマリオン システムを簡単に作成できます。Storefront Curtainwall システムは、[Dynamo]パレットの Dynamo Samples フォルダにあります。

![](../.gitbook/assets/storefront-curtainwall-button%20%281%29.png)

## マリオン システムの「ガラス」を選択する

FormIt 2021.2 から、Storefront Curtainwall システムでは新しい [SelectFromFormIt ノード](https://formit.autodesk.com/page/formit-dynamo#dynamo-formit-nodes)が使用され、マリオン システムを生成するための「ガラス」\(単一の面または押し出しソリッド\)を選択できるようになりました。

![A simple plane of &quot;glass&quot; with an opening for doors at the bottom.](../.gitbook/assets/storefron-system-1_glass-only.png)

Storefront Curtainwall サムネイル\(選択が必要であることを示すアイコン\)をクリックすると、ガラス ジオメトリの選択を求めるプロンプトが表示されます。

![](../.gitbook/assets/storefront-curtainwall-prompt.png)

ガラスの選択について、いくつか注意事項があります。

* 現在サポートされているのは平面サーフェスのみです。たとえば、小さな平面サーフェスで構成される「曲面」サーフェスなど、一連のサーフェスを選択した場合、スクリプトはその中で最大の平面を見つけて、それを使用します。
* ガラスがソリッド\(厚さを伝えるために単一の面がわずかに押し出されているなど\)の場合、スクリプトは最大のサーフェスを見つけるため、マリオンはガラスのソリッドの片側に生成されます。
* ドアの開口部をスケッチし、作成されたサーフェスをガラス境界から除去することができます。作成されたマリオンは、ドアの開口部を考慮し、ドアを追加するためにそこを空白のままにします。
* Dynamo の制限により、ガラス ジオメトリの中央に開口部がある場合、このスクリプトは機能しません。

## ヒントとコツ

FormIt で Dynamo グラフのジオメトリを選択する場合、次のような特定の操作を行うことで操作を簡略化し、結果を簡単にインスタンス化できます。

* ガラスをグループに配置し、Storefront/Curtainwall スクリプトの選択としてグループを使用します。これにより、マリオンの生成後にガラスのプロファイルを編集しやすくなります。実行間でガラスを大幅に変更して面 ID を変更した場合、グループはスクリプトでガラスを常に見つけることができます。これは面 ID ではなくグループ ID を使用しているためです。
* モデル内の他の場所にマリオン システムの結果をコピーして貼り付ける場合は、ガラスと作成されたマリオンをグループに含めることをお勧めします。これにより、作成されたマリオン グループをコピーして貼り付けるときに使用するガラス インスタンスが選択ノードに認識されないという問題も回避できます。
   * まずガラスをグループに入れます。これをダブルクリックしてガラスを選択し、[G]キーを押すか、コンテキスト メニューまたはツールバーの[グループ]コマンドを使用します。
   * 作成されたグループを選択し、別のグループに配置します。
   * ダブルクリックして、最初のグループを開きます。これは、ガラスと作成されるマリオンの両方の「コンテナ」です。
   * Storefront Curtainwall サムネイルをクリックし、ガラスのグループを選択として使用します。
   * スクリプトを実行した後でグループを終了し、必要に応じてコンテナをコピーして貼り付けることができます。問題なく、どのインスタンスもガラスの形状やパラメータを調整するなどの編集ができます。

## マリオン システム オプション

ガラスを選択してスクリプトを実行すると、FormIt キャンバスに FormIt グループの形式で結果が表示されます。このグループは自動的に選択され、使用可能なオプションが[プロパティ]パレットに表示されます。

![](../.gitbook/assets/storefront-curtainwall-parameters.png)

* **Run**: ガラスの形状を修正し、グラフを再実行してマリオンの結果を更新する場合は、このボタンをクリックします。
* **Edit Embedded Graph**: ジオメトリを生成する Dynamo スクリプトを編集します。このスクリプトは FormIt ファイルに埋め込まれ、このグループに固有のものです。
* **Select Glass \(Surface or Solid\)**: これをクリックすると、選択内容が別のガラスに更新され、その周囲にマリオンが生成されます。

スクリプトは最初に実行した既定値を使用するため、独自の使用事例に合わせて調整します。すべての値は、現在の FormIt 単位を使用します。

* **Mullion Width / Mullion Depth**: すべてのマリオン要素の幅と奥行き。
* **Vertical Mullion Spacing**: 各垂直マリオン間の中心距離。
* **Flip Vertical Mullion Layout**: このスクリプトは、任意に選択した一方の側面から垂直マリオンの間隔を開始します。使用事例にそぐわない側でマリオンの間隔が開始された場合は、この値を True に設定すると、反対側で開始するようにレイアウトが反転します。
* **Center Vertical mullion Layout**: ガラスの一方の端で垂直マリオンの間隔の計算を開始する代わりに、中央から計算を開始して垂直マリオンの対称レイアウトを作成します。
* **First Horizontal Mullion Spacing**: 下部に 1 つ目の水平マリオンの間隔を設定します。下部に短いガラス モジュールを並べて、残りの水平マリオンの間隔と別にする必要がある場合に便利です。
* **Horizontal Mullion Spacing**: 上記の 1 つ目のマリオンの後に、中央から開始する一般的な水平マリオンの間隔です。
* **Flip Horizontal Mullion Layout**: 水平マリオン レイアウトを下部ではなく上部で開始する場合は、これを True に設定します。
* **Center Horizontal Mullion Layout**: ガラスの下部または上部で水平マリオンの間隔の計算を開始する代わりに、中央から計算を開始して水平マリオンの対称レイアウトを作成します。

## 非表示のオプション

さらにカスタマイズが必要ですか? FormIt の[プロパティ]パレットでは、いくつかの高度なオプションが非表示になっていますが、[Edit Embedded Graph]をクリックすると、Dynamo でグラフの内容をすべて表示できます。

![](../.gitbook/assets/dynamo-edit-embedded-graph.png)

### ランダム化マリオン

![](../.gitbook/assets/storefront-curtainwall-random-verticals.png)

* **Randomize Vertical/Horizontal Mullion Layout**: 垂直マリオンまたは水平マリオンをランダムに配置するには、この値を True に設定します。
* **Min/Max Mullion Spacing \(if random\)**: ランダムな最小および最大の間隔値の範囲を設定します。

### 境界マリオン

![](../.gitbook/assets/storefront-curtainwall-border-mullion-options.png)

* **Flip Offset Direction of Border Mullions**: 既定では、マリオン システムはガラスの境界を使用し、それを内側にオフセットして境界マリオンを作成します。外側にオフセットするには、このオプションを True に設定します。これにより、[Mullion Width]の設定によるガラス境界の外側のマリオン システム全体のサイズが大きくなります。
* **Tolerance Between Selection and Border Mullions**: 既定では、マリオン システムはガラスの境界に正確に生成されます。この場合、ガラスのエッジと境界マリオンの外側サーフェスが衝突する Z 競合が発生する可能性があります。ほとんどの場合、これは表示されませんが、使用事例でシステムのエッジを表示する必要があり、Z 競合を回避する場合はこのオプションを有効にして、必要に応じて許容値を調整します。

