# Автосохранение

Начиная с версии 17.3 в FormIt для Windows входит функция автосохранения, которая во время работы создает резервную копию модели FormIt. Файл резервной копии можно использовать для восстановления данных в случае закрытия FormIt без сохранения изменений.

### Включение и отключение автосохранения

Параметры конфигурации автосохранения находятся в меню «Редактировать» > «Настройки» > «Автосохранение».

![](../.gitbook/assets/20190613-autosave.png)

Автосохранение включено по умолчанию, однако его можно полностью отключить, просто сняв флажок.

Задайте интервал \(в минутах\), с которым функция автосохранения будет создавать резервную копию. Для этого введите значение в числовое поле «Интервал автосохранения».

Обратите внимание, что эти настройки сохраняются на уровне приложения и действуют для любого открытого файла.

### Принцип работы функции автосохранения

Если автосохранение включено, происходит проверка наличия несохраненных изменений в текущем файле FormIt. При наличии несохраненных изменений в результате автосохранения с заданным интервалом времени создается резервная копия файла.

Файлы резервных копий хранятся в каталоге с исходным файлом и имеют расширение `.axmb`.

Например, если исходный файл FormIt хранится в каталоге `C:/Users/<user>/FormIt/MyProject.axm`, файл резервной копии будет сохранен в каталоге `C:/Users/<user>/FormIt/MyProject.axmb`.

При запуске нового сеанса FormIt без открытия существующего файла несохраненные изменения будут размещены в каталоге `C:/Users/<user>/Documents/Untitled.axmb`. При сохранении новой модели в другом каталоге резервные копии будут сохраняться в этом же каталоге, как и в предыдущем случае.

При сохранении изменений в исходном файле, файл резервной копии автоматически удаляется, поскольку исходный файл имеет более позднюю дату сохранения. Однако при последующем внесении изменений в только что сохраненный файл резервные копии будут создаваться вновь с заданным интервалом времени.

Если в рабочем файле имеются несохраненные изменения и при его закрытии в FormIt вы решите отменить изменения, созданная с помощью функции автосохранения резервная копия будет удалена. Однако в случае принудительного закрытия FormIt (при отключении компьютера или сбое приложения) файл резервной копии сохранится и его можно будет использовать для восстановления данных.

### Работа при включенном автосохранении

FormIt минимизирует потенциальное влияние автосохранения на производительность, выполняя резервное копирование в качестве отдельного процесса. При работе с файлами небольшого и среднего размера функция автосохранения выполняет резервное копирование абсолютно незаметно. При работе с файлами большого размера \(~400 МБ и более\) можно заметить короткую паузу в тот момент, когда FormIt копирует модель целиком и начинает резервное копирование в качестве отдельного процесса.

Чтобы узнать, выполняется ли в данный момент функция автосохранения, посмотрите в строке состояния в левом нижнем углу окна приложения наличие короткого сообщения «Автосохранение...»:

![](../.gitbook/assets/20190613-autosave-status-bar.png)

Если строка состояния отключена, ее можно включить в меню «Окно» > «Строка состояния» или с помощью сочетания клавиш HS.

### Восстановление данных с помощью функции автосохранения

При открытии файла FormIt, для которого доступна резервная копия, отобразится предупреждение о том, что имеется файл резервной копии. Как упоминалось выше, это может произойти при закрытии FormIt без сохранения последних изменений в проекте или при непредвиденном закрытии FormIt.

![](../.gitbook/assets/20190613-autosave-notification.png)

По нажатию гиперссылки «Открыть?» загружается файл резервной копии `.axmb`.

Можно также перейти в меню «Файл» > «Открыть» и вручную выбрать файл резервной копии `.axmb` в проводнике.

После открытия файла резервной копии при следующем сохранении появится сообщение с запросом на выбор другого файла FormIt \(`.axm`\) для перезаписи. Перезапись файла резервной копий FormIt \(`.axmb`\) невозможна.



