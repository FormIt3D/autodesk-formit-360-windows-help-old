# 2.5 – Moduly plug-in

Aplikace FormIt se dodává s několika moduly plug-in, které rozšiřují její integrované funkce. Můžete také nainstalovat moduly plug-in vyvinuté komunitou AEC nebo si dokonce vytvořit vlastní.

_V této kapitole si ukážeme několik zásuvných modulů, které jsou součástí aplikace FormIt, a provedeme několik vylepšení souboru_ _**Encode Campus Sample Model.axm**. Pokud jste tak ještě neučinili, můžete si soubor stáhnout z_ _**datové sady k příručce Základy aplikace FormIt, Část 2**._

## Instalace modulů plug-in

1 – Po otevření souboru **Encode Campus Sample Model.axm** nainstalujte první modul plug-in:

1. Kliknutím na ikonu zástrčky otevřete **paletu Správce modulů plug-in**.
2. Rozbalte rozevírací seznam **Doporučené**.
3. Přejděte dolů, vyhledejte modul plug-in **Generování světelných řetězů** a nainstalujte jej kliknutím na posuvník vpravo od názvu modulu plug-in.
4. Po instalaci modulu plug-in se automaticky otevře jeho paleta.
5. Také by se měla zobrazit nová ikona pod všemi ikonami ostatních palet.

![](../../.gitbook/assets/install-plugins_0_annotated%20%281%29.png)

![](../../.gitbook/assets/install-plugins_1_annotated.png)

2 – Znovu otevřete **paletu Správce modulů plug-in** a zopakujte postup ještě dvakrát, abyste nainstalovali moduly plug-in **Správa kamer** a **Vlastnosti Plus**.

3 – Následujícím postupem ověřte úspěšnou instalace všech tří modulů plug-in:

1. Minimalizujte rozevírací seznam **Doporučené** a rozbalte rozevírací seznam **Nainstalované**. Tímto způsobem můžete snadno zobrazit pouze nainstalované moduly plug-in.
2. Většina modulů plug-in, ale ne všechny, má také vlastní ikonu, která by měla být přidána na panel nástrojů s ikonami palety. Kdykoli se můžete vrátit na paletu **Správce modulů plug-in** a zapnout nebo vypnout posuvníky modulů plug-in, čímž přidáte nebo odeberete příslušné moduly a jejich ikony z relace aplikace FormIt.
3. Pokud máte nainstalováno příliš mnoho ikon modulů plug-in, takže se nevejdou na obrazovku, můžete některé nepoužívané ikony skrýt přepnutím jejich viditelnosti v rozevíracím seznamu **Okno** na panelu **Hlavní nabídka**.

![](../../.gitbook/assets/2%20%287%29.png)

## Použití modulů plug-in – Generování světelných řetězů

_Tento praktický modul plug-in umožňuje do modelu rychle přidat závěsná světla na ve tvaru čáry nebo křivky._

1 – Před přidáním nových světel se podívejme na zamýšlený výsledek pomocí předem vytvořené scény v modelu.

1. Chcete-li přejít na scénu obsahující existující světelné řetězy, otevřete **paletu Scény** a dvakrát klikněte na scénu s názvem **Úroveň očí – krátká ulička**.
2. Všimněte si světelného řetězu obsaženého v tomto modelu – tento řetěz chceme znovu vytvořit, ale někde jinde.
3. Na **paletě Hladina** zapněte hladinu **Pomocná geometrie**, aby se zobrazily původní čáry použité k vytvoření těchto světelných řetězů.

![](../../.gitbook/assets/3%20%2810%29.png)

2 – Nyní přejdeme do druhé uličky a přidáme světla. Na **paletě Scény** otevřete scénu **Úroveň očí – dlouhá ulička**. Všimněte si, že v této uličce ještě nejsou žádné světelné řetězy.

3 – Vytvoření nových světelných řetězů:

1. Kliknutím na ikonu světelného řetězu otevřete nově nainstalovanou **paletu Generování světelných řetězů**. Ve výchozím nastavení se ikony nových modulů plug-in zobrazují v dolní části.
2. Do pole **Počet svítidel** zadejte hodnotu **10**.
3. Dvakrát klikněte na jednu z pomocných čar, abyste upravili předem vytvořenou skupinu **Světelné řetězy – dlouhá ulička**. Poté jedním kliknutím vyberte jednu z předpřipravených pomocných čar.
4. Na paletě modulu plug-in klikněte na tlačítko **Generovat světelné řetězy**. Měl by se zobrazit nový světelný řetěz. Všimněte si, že každý světelný řetěz je vytvořen jako vlastní jedinečná skupina.

![](../../.gitbook/assets/4%20%286%29.png)

_**Poznámka:**_ _Nedělejte si starosti, že některé čáry procházejí nápisem „Groove Coffee“, protože modul plug-in světelných řetězů vytváří řetězovou křivku, která se pod nápisem realisticky prohne._

4 – Zkuste vytvořit další světelné řetězy pomocí další přednastavené pomocné čáry nebo si vytvořte vlastní pomocné čáry. Experimentujte s nastavením modulu plug-in, abyste získali různé výsledky.

5 – Aby byl model lépe uspořádán, doporučujeme po dokončení seskupit všechny pomocné čáry a umístit tuto skupinu do hladiny **Pomocná geometrie** a také přiřadit všechny skupiny světelných řetězů k hladině **Kontext – vnější osvětlení**. Tím se zabrání tomu, aby se pomocné čáry objevily v některé ze scén „Úroveň očí", kde je nechceme vidět. Až budete hotovi, měly by vaše výsledky vypadat podobně jako na následujícím obrázku.

![](../../.gitbook/assets/5%20%283%29.png)

_**Poznámka:**_ _Na rozdíl od geometrie vytvořené pomocí skriptu aplikace Dynamo, kterou lze aktualizovat a znovu vytvořit prostřednictvím_ _**palety Vlastnosti**, jsou objekty vytvořené pomocí modulu plug-in \(většinou\) běžnou geometrií aplikace FormIt. Po vytvoření je lze upravovat pouze pomocí integrovaných modelovacích nástrojů aplikace FormIt._

## Modul plug-in Správa kamer

_V celé příručce jsme používali scény jako cenné nástroje pro navigaci a řízení viditelnosti v celém modelu. Tento modul plug-in umožňuje zobrazit a upravit výšku aktuální kamery, exportovat kamery pro každou scénu jako 3D objekty a kopírovat tyto scény mezi modely._

1 – Nejprve upravíme scénu **Úroveň očí – dlouhá ulička**, aby její kamera byla skutečně v úrovni očí:

1. Pokud již není k dispozici, vraťte se do scény **Úroveň očí – dlouhá ulička** tak, že na ni dvakrát kliknete na **paletě Scény**.
2. Kliknutím na kameru s ikonou ozubeného kola otevřete **paletu Správa kamer**.
3. Změňte parametr **Výška nad terénem** na hodnotu **5’-8"**.

![](../../.gitbook/assets/6%20%286%29.png)

_**Poznámka:**_ _Pokud má model podlaží, tento modul plug-in také zobrazí výšku nad nejbližším podlažím pod_ _**hlavní kamerou**._

2 – Poté postupujte následovně:

1. Přejděte zpět na **paletu Scény**.
2. Ujistěte se, že je scéna **Úroveň očí – dlouhá ulička** stále vybrána \(v opačném případě ji vyberte jedním kliknutím\).
3. Kliknutím na tlačítko **Aktualizovat scénu** uložte novou výšku kamery do této scény.

![](../../.gitbook/assets/7%20%281%29.png)

_**Poznámka:**_ _Úhel a polohu kamery scény můžete také upravit přepnutím tlačítka_ _**Upravit kamery scény**_ _v horní části palety_ _**Scény**_ _\(mezi tlačítky pro aktualizaci a přehrávání\)._

3 – Nyní vyexportujeme scény do nového modelu. Nejprve je nutné vytvořit objekty kamery pro všechny scény pomocí modulu plug-in **Správa kamer**:

1. Znovu otevřete **paletu Správa kamer**.
2. Ujistěte se, že je zaškrtnuta možnost **Kopírovat kamery do schránky**.
3. Klikněte na tlačítko **Exportovat scény do kamer**. Export může trvat několik sekund.
4. Pokud celá kreslicí plocha zbělela, je to proto, že **hlavní kamera** byla zarovnána s jednou z kamer scény. **Oddalte \(Z\)** pohled tak, abyste viděli 3 hlavní budovy a nově vytvořené objekty kamery. Všimněte si, že objekty kamery jsou automaticky umístěny do jedné velké skupiny s názvem **Kamery**. Uvnitř této skupiny je každá jednotlivá kamera umístěna do vlastní skupiny se stejným názvem jako scény, ze kterých byla vytvořena.

![](../../.gitbook/assets/8%20%287%29.png)

4 – Zkopírujme tyto scény do nového modelu. Vzhledem k tomu, že data kamery byla uložena do schránky, stačí provést jen pár kroků:

1. **Uložte** **\(Ctrl+S\)** aktuální model a zavřete jej.
2. Vytvořte nový prázdný náčrt výběrem možnosti **Nový náčrt \(Ctrl+N\)** v rozevíracím seznamu **Soubor** na panelu **Hlavní nabídka**.
3. Otevřete modul plug-in **Správa kamer**, pokud ještě není otevřený, a ujistěte se, že je zaškrtnuta možnost **Hledat kamery ve schránce**.
4. Kliknutím na tlačítko **Importovat scény z kamer** v dolní části modulu plug-in importujte scény z našeho druhého modelu. Chcete-li provést kontrolu, otevřete **paletu Scény** nebo zapněte hladinu **Kamera**. Uvidíte, že do tohoto modelu byly importovány všechny scény a 3D objekty kamery.

![](../../.gitbook/assets/9%20%287%29.png)

## Modul plug-in Vlastnosti Plus

_Tento modul plug-in je pokročilejší verzí standardní_ _**palety Vlastnosti**. Pokud vyberete více skupin nebo typů geometrie, tento modul plug-in vám poskytne přehled o tom, co bylo vybráno, a také umožní hromadné přejmenování skupin a instancí skupin._

1 **–** Nejprve se podíváme na vlastnosti skupiny dveří z našeho hlavního modelu. Znovu otevřete soubor **Encode Campus Sample Model.axm** a přejděte zpět do scény **Úroveň očí – dlouhá ulička**. Chcete-li začít využívat modul plug-in **Vlastnosti Plus**, proveďte následující kroky:

1. Kliknutím na vlastnost s ikonou symbolu „+“ otevřete **paletu Vlastnosti Plus**.
2. Ujistěte se, že je zaškrtnuta možnost **Aktualizovat při změně výběru**.
3. Vyberte jednu ze skupin dveří s dvojitým sklem nazvanou **Dveře** na pravé straně uličky.
4. V části **Počet výběrů** se v poli **Celkový počet objektů** zobrazí informace, že je vybrán jeden objekt \(**1**\).
5. Níže naleznete další informace o tom, jaké typy objektů byly vybrány. V tomto případě je vybrána jedna skupina \(**1**\), ale tato skupina má někde v modelu čtyři instance \(**4**\).

![](../../.gitbook/assets/10%20%282%29.png)

_**Poznámka:**_ _Kontrola počtu instancí vybrané skupiny může být velmi užitečná, aby se zabránilo nechtěné změně více prvků, pokud jste chtěli změnit pouze vybraný prvek, ale zapomněli jste jej nejprve učinit jedinečným._

2 – Tento modul plug-in umožňuje upravit název skupiny nebo instance skupiny, aniž by bylo nutné přejít do režimu úprav skupiny, a přejmenovat více instancí najednou. Jak jsme se již dříve dozvěděli, každá skupina má název, ale každá instance této skupiny může mít také jedinečný název „instance“. Protože v tomto modelu bude pravděpodobně existovat mnoho typů dveří, chceme tuto skupinu a některé její instance pojmenovat konkrétněji.

1. Se stále vybranou první skupinou **Dveře** přidejte další skupinu **Dveře** do aktuálního výběru tak, že podržíte klávesu **Shift** nebo **Ctrl** a kliknete na druhou skupinu **Dveře** s dvojitým sklem poblíž první skupiny.
2. Všimněte si, že paleta **Vlastnosti Plus** nyní aktualizovala **počet výběrů**. Nyní zobrazuje, že jsou vybrány dvě \(**2**\) instance, ale stále je vybrána pouze jedna \(**1**\) jedinečná **rodina** \(neboli skupina\). \(Přestože tento modul plug-in používá termín **Rodina**, který by měl být uživatelům aplikace Revit známý, v tomto kontextu znamená totéž co skupina aplikace FormIt.\)
3. V části **Rodina skupin** aktualizujte hodnotu v poli **Název** na **Dveře – výloha s dvojitým sklem**. Tím se aktualizuje název skupiny pro všechny instance bez ohledu na to, kde se nacházejí nebo zda jsou aktuálně vybrány či nikoli, aniž by bylo nutné na skupinu dvakrát kliknout a upravit ji.
4. Protože obě tyto instance jsou dveře v části Groove Coffee, přejmenujte pouze tyto dvě instance zadáním názvu **Dveře Groove Coffee** do pole **Název** v části **Instance více skupin**.

**Poznámka:** Ve standardní **paletě Vlastnosti** neexistuje způsob, jak přejmenovat více instancí skupiny najednou. Tato funkce může být velmi užitečná, pokud chcete přejmenovat desítky nebo stovky instancí se stejným názvem najednou.

![](../../.gitbook/assets/11%20%286%29.png)

_**Poznámka:**_ _Pokud myš opustí paletu, nebudete již moci vybrané textové pole upravovat. To platí pro všechny palety, takže při úpravách čehokoli uvnitř palety dávejte pozor, aby se kurzor stále nacházel uvnitř hranic palety._

3 – Pokud nyní vyberete skleněné dveře Groove Coffee nebo jiné skleněné dveře a podíváte se na jejich vlastnosti v **běžné paletě Vlastnosti**, uvidíte, že název **skupiny** byl aktualizován pro každou instanci, ale pouze u dveří Groove Coffee byla jejich vlastnost **Název** pro danou instanci změněna oproti výchozí hodnotě.

![](../../.gitbook/assets/12%20%283%29.png)

4 – Nakonec se podívejme, jak tento modul plug-in třídí různé typy prvků:

1. Rychle nakreslete **čáru \(L\)**, **obdélník \(R\)** a **krychli \(Alt+B\)** kdekoli v modelu. Budou dočasné, takže jejich přesné umístění není důležité.
2. Znovu otevřete paletu **Vlastnosti Plus**, pokud jste ji zavřeli, a poté stisknutím kláves **Ctrl+A** vyberte všechny viditelné prvky v modelu.
3. Podívejte se na část **Počet výběrů** a všimněte si, že vybrané prvky jsou rozděleny na **hrany** \(čáry\), **plochy**, **tělesa** \(3D tvary vytvořené z ploch a hran, například krychle\)**,** **skupiny** a další.

![](../../.gitbook/assets/13%20%283%29.png)

_**Poznámka:**_ _Tento modul plug-in také detekuje_ _**vrcholy** které lze vytvořit pomocí jiného modulu plug-in s názvem_ _**Generování vrcholů**. Pokud chcete experimentovat, nainstalujte si_ _**modul plug-in Generování vrcholů**_ _a zopakujte výše uvedené kroky._

## Hřiště modulů plug-in

_Pokročilí uživatelé a vývojáři mohou využít modul plug-in dodávaný s aplikací FormIt, který umožňuje vytvářet a testovat vlastní moduly plug-in přímo v aplikaci FormIt. K plnému využití tohoto nástroje je nutná znalost HTML, CSS a JavaScriptu, takže nebudeme zacházet do podrobností, ale pokud máte zájem dozvědět se více, můžete navštívit stránku s informacemi o_ [_**tvorbě javascriptových modulů plug-in pro aplikaci FormIt**_](https://formit3d.github.io/FormItExamplePlugins/docs/HowToBuild.html)_._

1 – Modul **Hřiště modulů plug-in** můžete nainstalovat stejným způsobem jako předchozí moduly z **palety Moduly plug-in**.

2 – Zde jsou základní informace o **Hřišti modulů plug-in**:

1. Kliknutím na ikonu _&lt;_tužky_&gt;_ otevřete paletu **Hřiště modulů plug-in**.
2. Na paletě kliknutím na tlačítko **Upravit** otevřete integrovaný editor kódu, pomocí kterého můžete vytvářet vlastní moduly plug-in. Tento doplněk je dodáván s předem načteným kódem pro modul plug-in, který vytváří krychli.
3. Kliknutím na tlačítko **Přehrát** spusťte test aktuálního kódu. V tomto případě se v paletě zobrazí obsah modulu plug-in pro tvorbu krychle.

![](../../.gitbook/assets/14%20%283%29.png)

