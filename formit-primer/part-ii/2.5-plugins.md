# 2.5 — Wtyczki

Program FormIt zawiera kilka wtyczek rozszerzających wbudowane funkcje. Możesz również instalować wtyczki opracowane przez społeczność AEC, a nawet tworzyć własne.

_W tym rozdziale omówimy kilka przykładowych wtyczek dostarczanych z programem FormIt, aby wprowadzić ulepszenia w modelu_ _**Encode Campus Sample Model.axm**. Jeśli jeszcze nie zostało to zrobione, możesz pobrać plik z zestawu danych_ _**FormIt Primer Part 2 Dataset**._

## Instalowanie wtyczek

1 — Po otwarciu pliku **Encode Campus Sample Model.axm** zainstaluj pierwszą wtyczkę:

1. Otwórz **paletę Plugins Manager** \(Menedżer wtyczek\), klikając ikonę wtyczki.
2. Rozwiń listę rozwijaną **Recommended** \(Zalecane\).
3. Przewiń w dół i znajdź wtyczkę **Generate String Lights** \(Generuj ciągi świateł\), a następnie zainstaluj ją, klikając suwak z prawej strony nazwy wtyczki.
4. Po zainstalowaniu wtyczki automatycznie otworzy się jej paleta.
5. Pod wszystkimi pozostałymi ikonami palet powinna również być wyświetlana nowa ikona.

![](../../.gitbook/assets/install-plugins_0_annotated%20%281%29.png)

![](../../.gitbook/assets/install-plugins_1_annotated.png)

2 — Otwórz ponownie **paletę Plugins Manager** \(Menedżer wtyczek\) i powtórz proces jeszcze dwukrotnie, aby zainstalować wtyczki **Manage Cameras** \(Zarządzaj kamerami\) i **Properties Plus** \(Właściwości Plus\).

3 — Aby potwierdzić, że wszystkie trzy wtyczki zostały zainstalowane pomyślnie:

1. Zminimalizuj menu rozwijane **Recommended** \(Zalecane\) i rozwiń listę rozwijaną **Installed** \(Zainstalowane\). Jest to prosty sposób na wyświetlenie tylko tych wtyczek, które zostały zainstalowane.
2. Większość wtyczek, ale nie wszystkie, ma również własną ikonę, która powinna zostać dodana do paska narzędzi ikon palet. W każdej chwili możesz wrócić do **palety Plugin Manager** \(Menedżer wtyczek\) i włączyć lub wyłączyć suwaki wtyczek, co spowoduje dodanie lub usunięcie wtyczek i ich ikon z sesji programu FormIt.
3. Jeśli zainstalowanych jest zbyt wiele wtyczek, których ikony nie mieszczą się na ekranie, nieużywane ikony można ukryć, przełączając ich widoczność na liście rozwijanej **Okno** z głównego **paska menu**.

![](../../.gitbook/assets/2%20%287%29.png)

## Korzystanie z wtyczek — Generate String Lights \(Generuj ciągi świateł\)

_Ta świetna wtyczka umożliwia szybkie dodawanie do modelu wiszących świateł na podstawie linii lub krzywej._

1 — Przed dodaniem jakichkolwiek nowych świateł sprawdźmy zamierzony rezultat, używając wstępnie przygotowanej sceny w modelu.

1. Aby przejść do sceny zawierającej istniejące ciągi świateł, otwórz **paletę Sceny** i kliknij dwukrotnie scenę o nazwie **Eye Level – Short Alley** \(Poziom wzroku — Krótka uliczka\).
2. Zwróć uwagę na ciąg świateł, który pojawił się w tym modelu — zamierzamy go odtworzyć, ale w innym miejscu.
3. Na **palecie Warstwy** włącz warstwę **Helper Geometry** \(Geometria pomocnicza\), aby wyświetlić oryginalne linie użyte do wygenerowania tego ciągu świateł.

![](../../.gitbook/assets/3%20%2810%29.png)

2 — Teraz przejdźmy do drugiej uliczki i dodajmy trochę świateł. W **palecie Sceny** otwórz scenę **Eye Level – Long Alley** \(Poziom wzroku — Długa uliczka\). Zwróć uwagę, że w tej uliczce nie ma jeszcze żadnego ciągu świateł.

3 — Aby utworzyć nowy ciąg świateł:

1. Otwórz nowo zainstalowaną **paletę Generate String Lights** \(Generuj ciągi świateł\), klikając ikonę ciągu świateł. Domyślnie ikony nowych wtyczek są wyświetlane u dołu.
2. Zmień opcję **Number of Fixtures** \(Liczba opraw\) na **10**.
3. Kliknij dwukrotnie jedną z linii pomocniczych, aby przeprowadzić edycję wstępnie utworzonej grupy **String Lights – Long Alley** \(Ciąg świateł — Długa uliczka\). Następnie kliknij jedną ze wstępnie narysowanych linii pomocniczych, aby ją zaznaczyć.
4. Kliknij przycisk **Generate String Lights** \(Generuj ciąg świateł\) znajdujący się w palecie wtyczki. Powinien pojawić się nowy ciąg świateł. Pamiętaj, że każdy ciąg świateł jest tworzony jako osobna, niepowtarzalna grupa.

![](../../.gitbook/assets/4%20%286%29.png)

_**Uwaga:**_ _niektóre linie przechodzą przez znak „Groove Coffee”, ponieważ wtyczka ciągu świateł tworzy krzywą łańcucha, która będzie realistycznie zwisać pod znakiem._

4 — Spróbuj utworzyć więcej ciągów świateł, używając innej wstępnie utworzonej linii pomocniczej i/lub utworzyć kilka własnych linii pomocniczych. Pobaw się ustawieniami wtyczki, aby uzyskać różne wyniki.

5 — Aby ułatwić zachowanie porządku w modelu, po zakończeniu zalecamy zgrupowanie wszystkich linii pomocniczych i umieszczenie tej grupy w warstwie **Helper Geometry** \(Geometria pomocnicza\), jak również przypisanie wszystkich grup ciągów świateł do warstwy **Context – Exterior Lighting** \(Kontekst — Oświetlenie zewnętrzne\). Zapobiegnie to wyświetlaniu linii pomocniczych we wszystkich scenach „Eye Level” \(Poziom wzroku\), w których nie chcemy ich widzieć. Po zakończeniu wyniki powinny wyglądać podobnie jak na następnym zrzucie ekranu.

![](../../.gitbook/assets/5%20%283%29.png)

_**Uwaga:**_ _w odróżnieniu od geometrii utworzonej ze skryptu Dynamo, którą można zaktualizować i wygenerować ponownie za pomocą_ _**palety Właściwości**, obiekty utworzone przez wtyczkę to \(przeważnie\) zwykła geometria programu FormIt. Po utworzeniu można je edytować tylko za pomocą narzędzi modelowania wbudowanych w programie FormIt._

## Wtyczka Manage Cameras \(Zarządzaj kamerami\)

_W tym przewodniku używaliśmy scen jako wartościowych narzędzi do nawigacji i sterowania widocznością w całym modelu. Ta wtyczka umożliwia wyświetlanie i edycję wysokości bieżącej kamery, eksportowanie kamer dla każdej sceny jako obiektów 3D i kopiowanie tych scen między modelami._

1 — Najpierw dostosujemy scenę **Eye Level – Long Alley** \(Poziom wzroku — Długa uliczka\) tak, aby jej kamera rzeczywiście znajdowała się na poziomie wzroku:

1. Jeśli scena **Eye Level – Long Alley** \(Poziom wzroku — Długa uliczka\) nie jest jeszcze wyświetlana, wróć do niej, klikając ją dwukrotnie w **palecie Sceny**.
2. Otwórz **paletę Manage Cameras** \(Zarządzaj kamerami\), klikając kamerę z ikoną koła zębatego.
3. Zmień wartość opcji **Height Above Ground** \(Wysokość nad ziemią\) na **5’-8”**.

![](../../.gitbook/assets/6%20%286%29.png)

_**Uwaga:**_ _jeśli model zawiera poziomy, ta wtyczka będzie również pokazywała wysokość nad najbliższym poziomem poniżej_ _**kamery głównej**._

2 — Następnie:

1. Wróć do **palety Sceny**.
2. Upewnij się, że scena **Eye Level – Long Alley** \(Poziom wzroku — Długa uliczka\) jest nadal zaznaczona \(w przeciwnym razie kliknij raz, aby ją wybrać).
3. Kliknij przycisk **Aktualizuj scenę**, aby zapisać nową wysokość kamery w tej scenie.

![](../../.gitbook/assets/7%20%281%29.png)

_**Uwaga:**_ _kąt i położenie kamery sceny możesz również dostosować, przełączając przycisk_ _**Edytuj kamery sceny**_ _w górnej części_ _**palety Sceny**_ _\(między przyciskami aktualizacji i odtwarzania\)._

3 — Teraz wyeksportujmy nasze sceny do nowego modelu. Najpierw musimy utworzyć obiekty kamery dla wszystkich scen za pomocą wtyczki **Manage Cameras** \(Zarządzaj kamerami\):

1. Otwórz ponownie **paletę Manage Cameras** \(Zarządzaj kamerami\).
2. Upewnij się, że jest zaznaczona opcja **Copy Cameras to Clipboard** \(Kopiuj kamery do schowka\).
3. Kliknij przycisk **Export Scenes to Cameras** \(Eksportuj sceny do kamer\). Może to potrwać kilka sekund.
4. Jeśli cały obszar rysunku stał się biały, oznacza to, że **kamera główna** została dopasowana do jednej z kamer sceny. **Powiększaj \(Z\)** obraz, aż zobaczysz 3 budynki główne i nowo utworzone obiekty kamery. Pamiętaj, że obiekty kamery są automatycznie umieszczane w jednej dużej grupie o nazwie **Cameras** \(Kamery\). W obrębie tej grupy każda kamera jest umieszczana we własnej grupie o takiej samej nazwie jak sceny, z których została utworzona.

![](../../.gitbook/assets/8%20%287%29.png)

4 — Skopiujmy te sceny do nowego modelu. Ponieważ dane kamery zostały zapisane w schowku, nie ma wiele do zrobienia:

1. **Zapisz** **\(Ctrl + S\)** bieżący model i zamknij go.
2. Rozpocznij nowy pusty szkic, wybierając opcję **Nowy szkic \(Ctrl + N\)** z listy rozwijanej **Plik** na pasku **Menu główne**.
3. Otwórz wtyczkę **Manage Cameras** \(Zarządzaj kamerami\), jeśli nie jest jeszcze otwarta, i upewnij się, że jest zaznaczona opcja **Look for Cameras on Clipboard** \(Szukaj kamer w schowku\).
4. Kliknij przycisk **Import Scenes from Cameras** \(Importuj sceny z kamer\) w pobliżu dolnej części wtyczki. Sceny z drugiego modelu zostaną zaimportowane. Aby to sprawdzić, otwórz **paletę Sceny** i/lub włącz warstwę **Camera** \(Kamera\). Zobaczysz, że wszystkie sceny i obiekty kamery 3D zostały zaimportowane do tego modelu.

![](../../.gitbook/assets/9%20%287%29.png)

## Wtyczka Properties Plus (Właściwości Plus)

_Ta wtyczka jest bardziej funkcjonalną wersją standardowej_ _**palety Właściwości**. Jeśli zostało wybranych wiele grup i/lub typów geometrii, ta wtyczka zapewni podział elementów, które zostały wybrane, jak również umożliwi masową zmianę nazw grup i wystąpień grup._

1 **—** Najpierw przyjrzymy się właściwościom grupy drzwi z naszego modelu głównego. Otwórz ponownie plik **Encode Campus Sample Model.axm** i wróć do sceny **Eye Level — Long Alley** \(Poziom wzroku — Długa uliczka\). Aby rozpocząć korzystanie z wtyczki **Properties Plus** \(Właściwości Plus\):

1. Otwórz **paletę Properties Plus** \(Właściwości Plus\), klikając właściwość z ikoną symbolu „plus”.
2. Upewnij się, że jest zaznaczona opcja **Update on Selection Change**\(Aktualizuj przy zmianie wyboru\).
3. Wybierz jedną z grup podwójnych szklanych drzwi o nazwie **Door** \(Drzwi\) po prawej stronie uliczki.
4. W obszarze **Selection Count** \(Liczba wybranych elementów\) w polu **Total Objects** \(Całkowita liczba obiektów\) jest wyświetlany komunikat, że wybrano jeden \(**1**\) obiekt.
5. Tuż poniżej możemy znaleźć więcej informacji na temat typów obiektów, które zostały zaznaczone. W tym przypadku zaznaczona jest jedna \(**1**\) grupa, ale ma ona cztery \(**4**\) wystąpienia w innych miejscach w modelu.

![](../../.gitbook/assets/10%20%282%29.png)

_**Uwaga:**_ _sprawdzenie liczby wystąpień wybranej grupy może być bardzo przydatne, ponieważ pozwala zapobiec przypadkowym zmianom wielu elementów, gdy w rzeczywistości chcesz zmienić tylko wybrany element, ale zapominasz zmienić go na unikatowy._

2 — Ta wtyczka umożliwia edycję nazwy grupy lub wystąpienia grupy bez konieczności przechodzenia do trybu edycji grupy oraz zmianę nazw wielu wystąpień jednocześnie. Jak dowiedzieliśmy się wcześniej, każda grupa ma nazwę, ale każde wystąpienie tej grupy może również mieć niepowtarzalną nazwę „wystąpienia”. Ponieważ w tym modelu najprawdopodobniej będzie wiele typów drzwi, chcemy nadać tej grupie i niektórym jej wystąpieniom bardziej charakterystyczne nazwy.

1. Przy wciąż zaznaczonej grupie pierwszych szklanych **drzwi** dodaj do bieżącego zaznaczenia inną grupę **Door** \(Drzwi\), przytrzymując naciśnięty klawisz **Shift** lub **Ctrl** i klikając jednokrotnie drugą grupę podwójnych szklanych **drzwi** w pobliżu pierwszej.
2. Zwróć uwagę, że na **palecie Properties Plus** \(Właściwości Plus\) została zaktualizowana wartość **Selection Count** \(Liczba wybranych elementów\), aby pokazać, że zaznaczone są dwa \(**2**\) wystąpienia, ale nadal zaznaczona jest tylko jedna \(**1**\) unikatowa **rodzina** \(grupa\). \(Wprawdzie w tej wtyczce używany jest termin **Family** \(Rodzina\), który powinien być znany użytkownikom programu Revit, w tym kontekście oznacza on to samo co grupa programu FormIt.\)
3. W obszarze **Group Family** \(Rodzina grup\), w polu **Name** \(Nazwa\) zmień wartość na **Doors — Double Glass Storefront** \(Drzwi — Podwójna szklana witryna\). Spowoduje to zaktualizowanie nazwy grupy nazw dla wszystkich wystąpień, niezależnie od tego, gdzie one się znajdują i czy są aktualnie zaznaczone, bez konieczności dwukrotnego kliknięcia i edycji grupy.
4. Ponieważ oba te wystąpienia są drzwiami w obszarze kawiarni Groove Coffee, zmieńmy nazwę tylko tych dwóch wystąpień, wprowadzając nazwę **Groove Coffee Door** \(Drzwi kawiarni Groove Coffee\) w polu **Name** \(Nazwa\) w obszarze **Multiple Group Instances** \(Wiele wystąpień grupy\).

**Uwaga:** w standardowej **palecie Właściwości** nie można zmienić nazw wielu wystąpień grupy jednocześnie. Może to być szczególnie przydatne, gdy chcesz zmienić nazwy kilkudziesięciu lub kilkuset wystąpień o tej samej nazwie jednocześnie.

![](../../.gitbook/assets/11%20%286%29.png)

_**Uwaga:**_ _jeśli wskaźnik myszy wyjdzie poza paletę, nie będzie można dalej edytować wybranego pola tekstowego. Dotyczy to wszystkich palet, dlatego podczas edycji dowolnego elementu wewnątrz palety pamiętaj o utrzymywaniu wskaźnika w obrębie palety._

3 — Jeśli teraz zaznaczysz szklane drzwi kawiarni Groove Coffee lub inne szklane drzwi i przyjrzysz się ich właściwościom na zwykłej **palecie Właściwości**, zobaczysz, że nazwa w polu **Grupa** została zaktualizowana dla każdego wystąpienia, ale tylko w przypadku drzwi kawiarni Groove Coffee zmieniła się domyślna wartość właściwości **Nazwa**.

![](../../.gitbook/assets/12%20%283%29.png)

4 — Na koniec przyjrzyjmy się, w jaki sposób wtyczka sortuje różne typy elementów:

1. Szybko narysuj **linię \(L\)**, **prostokąt \(R\)** i **sześcian \(Alt + B\)** w dowolnie wybranym miejscu w modelu. Będą one tymczasowe, dlatego ich dokładne położenie nie jest ważne.
2. Otwórz ponownie **paletę Properties Plus** \(Właściwości Plus\), jeśli była zamknięta, a następnie naciśnij klawisze **Ctrl + A**, aby zaznaczyć wszystkie widoczne elementy w modelu.
3. W obszarze **Selection Count** \(Liczba wybranych elementów\) zwróć uwagę, że zaznaczone elementy są podzielone na kategorie **Edges** \(Krawędzie\) \(linie\), **Faces** \(Powierzchnie\), **Bodies** \(Bryły\) \(kształty 3D wykonane z powierzchni i krawędzi, takie jak sześcian\)**,** **Groups** \(Grupy\) itd.

![](../../.gitbook/assets/13%20%283%29.png)

_**Uwaga:**_ _ta wtyczka wykrywa również_ _**wierzchołki**, które można utworzyć za pomocą innej wtyczki o nazwie_ _**Generate Vertex** \(Generuj wierzchołek\). Jeśli chcesz poeksperymentować, zainstaluj_ _**wtyczkę Generate Vertex**_ \(Generuj wierzchołek\)_i powtórz powyższe czynności._

## Plugin Playground \(Zabawa z wtyczkami\)

_Dla majsterkowiczów i programistów oprogramowanie FormIt oferuje również wtyczkę, która umożliwia tworzenie i testowanie własnych wtyczek bezpośrednio w programie FormIt. Do skorzystania ze wszystkich zalet tego narzędzia wymagana jest znajomość języków HTML, CSS i JavaScript, dlatego w tym miejscu nie będziemy zagłębiać się w szczegóły, natomiast jeśli chcesz dowiedzieć się więcej, odwiedź stronę_ [_**Building FormIt JavaScript Plugins**_](https://formit3d.github.io/FormItExamplePlugins/docs/HowToBuild.html)_._

1 — Wtyczkę **Plugin Playground** \(Zabawa z wtyczkami\) możesz zainstalować w taki sam sposób jak wcześniejsze wtyczki z **palety Plugin** \(Wtyczka\).

2 — Poniżej znajduje się podstawowe omówienie narzędzia **Plugin Playground** \(Zabawa z wtyczkami\):

1. Otwórz **paletę Plugin Playground** \(Zabawa z wtyczkami\), klikając ikonę _&lt;_ ołówka _&gt;_.
2. Wewnątrz palety kliknij przycisk **Edycja**, aby otworzyć wbudowany edytor kodu umożliwiający tworzenie wtyczek niestandardowych. Ta wtyczka ma wstępnie wczytany kod wtyczki umożliwiającej utworzenie sześcianu.
3. Kliknij przycisk **Odtwórz**, aby uruchomić testowo bieżący kod. W tym przypadku zawartość wtyczki kreatora sześcianu zostanie wyświetlona w palecie.

![](../../.gitbook/assets/14%20%283%29.png)

