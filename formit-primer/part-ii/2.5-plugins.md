# 2.5 - Módulos de extensión

FormIt incluye varios módulos de extensión que amplían sus funciones integradas. También puede instalar módulos de extensión desarrollados por la comunidad de AEC o incluso crear los suyos propios.

_En este capítulo, vamos a probar algunos de los módulos de extensión que se incluyen con FormIt para realizar algunas mejoras en_ _**Encode Campus Sample Model.axm**. Si aún no lo ha hecho, puede descargar el archivo desde el_ _**conjunto de datos de la parte 2 de FormIt Primer**._

## Instalación de módulos de extensión

1 - Una vez que haya abierto **Encode Campus Sample Model.axm**, instalaremos nuestro primer módulo de extensión:

1. Abra la **paleta Plugin Manager**. Para ello, haga clic en el icono de enchufe.
2. Expanda el menú desplegable **Recommended**.
3. Desplácese hacia abajo y busque el módulo de extensión **Generate String Lights** e instálelo. Para ello, haga clic en el control deslizante situado justo a la derecha del nombre del módulo de extensión.
4. Una vez que se haya instalado el módulo de extensión, su paleta se abrirá automáticamente.
5. También debe aparecer un nuevo icono debajo de todos los demás iconos de la paleta.

![](../../.gitbook/assets/install-plugins_0_annotated%20%281%29.png)

![](../../.gitbook/assets/install-plugins_1_annotated.png)

2. Vuelva a abrir la **paleta Plugin Manager** y repita el proceso dos veces más para instalar los módulos **Manage Cameras** y **Properties Plus**.

3 - Para confirmar que los tres módulos de extensión se hayan instalado correctamente, realice lo siguiente:

1. Minimice el menú desplegable **Recommended** y expanda el menú desplegable **Installed**. De esta forma, puede ver fácilmente los módulos de extensión que se han instalado.
2. La mayoría de los módulos de extensión, aunque no todos, incluyen también su propio icono, que debería añadirse a la barra de herramientas de iconos de la paleta. Puede regresar a la **paleta Plugin Manager** en cualquier momento y activar o desactivar los controles deslizantes de los módulos, lo que añadirá o eliminará módulos de extensión y sus iconos en la sesión de FormIt.
3. Si tiene demasiados iconos de módulos de extensión instalados para que quepan en la pantalla, puede ocultar algunos que no se utilicen. Para ello, active o desactive su visibilidad en el menú desplegable **Ventana** de la barra de **Menú principal**.

![](../../.gitbook/assets/2%20%287%29.png)

## Uso de módulos de extensión: Generate String Lights

_Este sencillo módulo de extensión permite añadir rápidamente guirnaldas de luces en función de una línea o una curva._

1 - Antes de añadir nuevas luces, vamos a comprobar el resultado deseado mediante una escena prefabricada en el modelo.

1. Para ir a la escena que contiene las guirnaldas de luces existentes, abra la **paleta Escenas** y haga doble clic en la escena denominada **Eye Level – Short Alley**.
2. Observe las guirnaldas de luces incluidas con este modelo; esto es lo que vamos a recrear, aunque en otro lugar.
3. En la **paleta Capas**, active la capa **Helper Geometry** a fin de ver las líneas originales utilizadas para generar estas guirnaldas de luces.

![](../../.gitbook/assets/3%20%2810%29.png)

2 - Ahora vayamos a otro callejón y añadamos algunas luces. En la **paleta Escenas**, abra la escena **Eye Level – Long Alley**. Observe que todavía no hay ninguna guirnalda de luces en este callejón.

3 - Para crear una nueva guirnalda de luces, realice lo siguiente:

1. Abra la **paleta Generate String Lights** que acaba de instalar. Para ello, haga clic en el icono de guirnalda de luces. Los iconos de los nuevos módulos de extensión aparecen por defecto en la parte inferior.
2. Cambie la opción **Number of Fixtures** a **10**.
3. Haga doble clic en una de las líneas auxiliares para editar el grupo **String Lights - Long Alley** creado anteriormente. A continuación, haga clic una vez en una de las líneas auxiliares predibujadas para seleccionarla.
4. Haga clic en el botón **Generate String Lights** en la paleta del módulo de extensión; debería aparece una nueva guirnalda de luces. Observe que cada guirnalda de luces se crea como su propio grupo exclusivo.

![](../../.gitbook/assets/4%20%286%29.png)

_**Nota:**_ _No pasa nada si algunas de las guirnaldas de luces atraviesan el letrero Groove Coffee porque este módulo de extensión crea una curva catenaria con un pandeo realista debajo del letrero._

4 - Pruebe a crear más guirnaldas de luces mediante el uso de la otra línea auxiliar creada anteriormente o mediante la creación de algunas líneas auxiliares propias. Pruebe con distintos ajustes de la configuración del módulo de extensión para obtener diferentes resultados.

5 - Para mantener organizado el modelo, cuando haya terminado, es recomendable agrupar todas las líneas auxiliares y colocar ese grupo en la capa **Helper Geometry**, así como asignar todos los grupos de guirnaldas de luces a la capa **Context – Exterior Lighting**. Esto impedirá que las líneas auxiliares aparezcan en cualquiera de las escenas de tipo "Eye Level" en la que no deseamos que aparezcan. Cuando termine, los resultados deberían tener un aspecto similar al de la siguiente captura de pantalla.

![](../../.gitbook/assets/5%20%283%29.png)

_**Nota:**_ _A diferencia de la geometría creada a partir de una secuencia de comandos de Dynamo, que puede actualizarse y regenerarse mediante la_ _**paleta Propiedades**, los objetos creados por un módulo de extensión son, en su mayoría, geometría normal de FormIt. Una vez creados, solo se pueden editar mediante las herramientas de modelado integradas de FormIt._

## Módulo de extensión Manage Cameras

_A lo largo de FormIt Primer, hemos utilizado escenas como herramientas valiosas para desplazarnos por el modelo y controlar su visibilidad. Este módulo nos permite ver y editar la elevación de la cámara actual, exportar cámaras para cada escena como objetos 3D y copiar estas escenas entre modelos._

1 - En primer lugar, ajustaremos la escena **Eye Level – Long Alley** para que su cámara se encuentre a la altura de los ojos:

1. Si aún no lo ha hecho, regrese a la escena **Eye Level – Long Alley**. Para ello, haga doble clic en la **paleta Escenas**.
2. Abra la **paleta Manage Cameras**. Para ello, haga clic en la cámara con un icono de engranaje.
3. Cambie el valor de **Height Above Ground** a **5'-8"**.

![](../../.gitbook/assets/6%20%286%29.png)

_**Nota:**_ _Si el modelo tiene niveles, este módulo de extensión también mostrará la altura sobre el nivel más cercano por debajo de la_ _**cámara principal**._

2 - A continuación, realice lo siguiente:

1. Regrese a la **paleta Escenas**.
2. Asegúrese de que la escena **Eye Level – Long Alley** esté aún seleccionada \(de lo contrario, haga clic una vez en ella para seleccionarla\).
3. Haga clic en el botón **Actualizar escena** para guardar la nueva altura de la cámara en esta escena.

![](../../.gitbook/assets/7%20%281%29.png)

_**Nota:**_ _También se puede ajustar el ángulo y la posición de la cámara de una escena activando o desactivando el botón_ _**Editar cámaras de escena**_ _en la parte superior de la_ _**paleta Escenas**_ _(entre los botones de actualización y reproducción)._

3 - A continuación, exportemos nuestras escenas a un nuevo modelo. Debemos crear primero los objetos de cámara para todas las escenas con el módulo de extensión **Manage Cameras**:

1. Vuelva a abrir la **paleta Manage Cameras**.
2. Asegúrese de que la opción **Copy Cameras to Clipboard** esté activada.
3. Haga clic en el botón **Export Scenes to Cameras**. Este proceso puede tardar unos segundos en completarse.
4. Si todo el lienzo se ha vuelto blanco, es porque la **cámara principal** se ha alineado con una de las cámaras de la escena. Utilice la herramienta **Zoom \(Z\)** para reducir la vista hasta que pueda ver los tres edificios principales y los objetos de cámara recién creados. Tenga en cuenta que los objetos de cámara se colocan automáticamente en un grupo de gran tamaño denominado **Cameras**. En ese grupo, cada cámara individual se coloca en su propio grupo con el mismo nombre que las escenas a partir de las que se ha creado.

![](../../.gitbook/assets/8%20%287%29.png)

4 - Vamos a copiar estas escenas en un nuevo modelo. Dado que los datos de la cámara se han guardado en el portapapeles, solo tenemos que realizar lo siguiente:

1. **Guarde** **\(Ctrl + S\)** el modelo actual y ciérrelo.
2. Inicie un nuevo boceto vacío. Para ello, seleccione **Nuevo boceto \(Ctrl + N\)** en el menú desplegable **Archivo** de la barra de **Menú principal**.
3. Si aún no lo ha hecho, abra el módulo de extensión **Manage Cameras** y asegúrese de que esté seleccionada la opción **Look for Cameras on Clipboard**.
4. Haga clic en el botón **Importar escenas de cámaras** situado cerca de la parte inferior del módulo de extensión; se importarán las escenas del otro modelo. Para comprobarlo, abra la **paleta Escenas** o active la capa **Camera**. Verá que todas las escenas y los objetos de cámara 3D se han importado a este modelo.

![](../../.gitbook/assets/9%20%287%29.png)

## Módulo de extensión Properties Plus

_Este módulo de extensión es una versión con más funciones de la_ _**paleta Propiedades**. Si selecciona varios grupos o tipos de geometría, este módulo de extensión le proporcionará un desglose de lo que se ha seleccionado, además de permitir el cambio de nombre masivo de grupos y ejemplares de grupo._

1 **-** Veremos primero las propiedades de un grupo de puertas en el modelo base. Vuelva a abrir **Encode Campus Sample Model.axm** y regrese a la escena **Eye Level - Long Alley**. Para comenzar a utilizar el módulo de extensión **Properties Plus**, realice lo siguiente:

1. Abra la **paleta Properties Plus**. Para ello, haga clic en la propiedad con un signo más.
2. Asegúrese de que la opción **Actualizar al cambiar la selección** esté seleccionada.
3. Seleccione uno de los grupos de puertas de cristal dobles denominado **Door** en el lado derecho del callejón.
4. En el área **Selection Count**, la opción **Total Objects** nos indica que hay un \(**1**\) objeto seleccionado.
5. Justo debajo, podemos encontrar más información sobre los tipos de objetos que se han seleccionado. En este caso, hay un \(**1**\) grupo seleccionado y este tiene cuatro \(**4**\) ejemplares en alguna parte del modelo.

![](../../.gitbook/assets/10%20%282%29.png)

_**Nota:**_ _Comprobar el número de ejemplares del grupo seleccionado puede ser muy útil para evitar que se modifiquen accidentalmente varios elementos cuando en realidad solo se desea cambiar el elemento seleccionado, pero se ha olvidado establecerlo primero como exclusivo._

2 - Este módulo de expansión nos permite editar el nombre de un grupo o un ejemplar de grupo sin necesidad de pasar al modo de edición de grupo y cambiar el nombre de varios ejemplares a la vez. Como hemos aprendido anteriormente, cada grupo tiene un nombre, pero cada ejemplar de ese grupo también puede tener un nombre de "ejemplar" exclusivo. Como es probable que haya muchos tipos de puertas en este modelo, deseamos asignar a este grupo y algunas de sus instancias nombres más específicos.

1. Con el primer grupo de **puertas** de cristal seleccionado, añada otro grupo de **puertas** a la selección actual. Para ello, mantenga pulsada la tecla **Mayús** o **Ctrl** y haga clic una vez en el otro grupo de **puertas** de cristal dobles cerca del primero.
2. Observe que ahora, la **paleta Properties Plus** ha actualizado el valor de **Selection Count** para mostrar que hay dos \(**2**\) ejemplares seleccionados, pero aún solo una \(**1**\) única **familia** \(también conocido como grupo\) seleccionada. \(Aunque este módulo de extensión utilice el término **Familia**, que debería ser conocido para los usuarios de Revit, en este contexto, significa lo mismo que un grupo de FormIt\)
3. En el área **Group Family**, actualice el campo **Name** para que sea **Doors – Double Glass Storefront**. De este modo, se actualizará el nombre del grupo para todos los ejemplares, independientemente de dónde se encuentren o de si están seleccionados actualmente, sin necesidad de hacer doble clic y editar el grupo.
4. Dado que estos dos ejemplares son puertas de acceso al área de Groove Coffee, cambiemos el nombre de estos dos ejemplares introduciendo **Groove Coffee Door** en el campo **Name** del área **Multiple Group Instances**.

**Nota:** En la **paleta Propiedades** estándar, no es posible cambiar el nombre de varios ejemplares de un grupo a la vez. Esto puede resultar muy útil si desea cambiar a la vez el nombre de decenas o cientos de ejemplares con el mismo nombre.

![](../../.gitbook/assets/11%20%286%29.png)

_**Nota:**_ _Si el cursor del ratón sale de la paleta, ya no podrá editar el cuadro de texto seleccionado. Esto es así en todas las paletas, por lo que asegúrese de mantener el cursor dentro del contorno de la paleta mientras edita cualquier elemento dentro de ella._

3 - Ahora, si selecciona una puerta de cristal de Groove Coffee u otra diferente y observa sus propiedades en la **paleta Propiedades** normal, verá que el nombre del **grupo** se ha actualizado para cada ejemplar, pero solo se ha cambiado el valor por defecto de la propiedad de **nombre** de ejemplar para las puertas de esta cafetería.

![](../../.gitbook/assets/12%20%283%29.png)

4 - Por último, veamos a continuación cómo este módulo de extensión ordena los distintos tipos de elementos:

1. Dibuje rápidamente una **Línea \(L\)**, un **Rectángulo \(R\)** y un **Cubo \(Alt + B\)** en cualquier lugar del modelo. Estos serán temporales, por lo que la ubicación precisa no es importante.
2. Vuelva a abrir la **paleta Properties Plus** si estaba cerrada y, a continuación, pulse **Ctrl + A** para seleccionar todos los elementos visibles en el modelo.
3. Examine el área **Selection Count** y observe que los elementos seleccionados se dividen en **bordes** \(líneas\), **caras**, **cuerpos**, \(formas 3D compuestas de caras y bordes, como el cubo\)**, ** **grupos**, etc.

![](../../.gitbook/assets/13%20%283%29.png)

_**Nota:**_ _Este módulo de extensión también detecta_ _**vértices**, que se pueden crear con otro módulo de extensión denominado_ _**Generate Vertex**. Si desea experimentar, instale el_ _**módulo de extensión Generate Vertex**_ _y repita los pasos anteriores._

## Módulo de extensión Playground

_Para los desarrolladores y los usuarios experimentados, FormIt también incluye un módulo de extensión que le permite crear y probar sus propios módulos de extensión personalizados en FormIt. Se necesitan conocimientos de HTML, CSS y JavaScript para aprovechar al máximo esta herramienta, por lo que no entraremos en detalles aquí, pero si está interesado en obtener más información, puede consultar_ [_**Building FormIt JavaScript Plugins**_](https://formit3d.github.io/FormItExamplePlugins/docs/HowToBuild.html)_._

1 - Puede instalar el **módulo de extensión Playground** del mismo modo que instalamos los módulos de extensión anteriores desde la **paleta Módulos de extensión**.

2. A continuación, se ofrece información general básica sobre el **módulo de extensión Playground**:

1. Abra la **paleta del módulo de extensión Playground**. Para ello, haga clic en el icono de _&lt;_ lápiz _&gt;_.
2. En la paleta, haga clic en el botón **Edit** para abrir el editor de código integrado a fin de crear módulos de extensión personalizados. Este módulo incluye código para un módulo de extensión que crea un cubo.
3. Haga clic en el botón **Play** para probar la ejecución del código actual. En este caso, el contenido del módulo de extensión de creación de cubos aparecerá en la paleta.

![](../../.gitbook/assets/14%20%283%29.png)

