# 2.2 – Outils de modélisation avancés : Coque et Couverture

_L’outil Coque permet de créer une forme creuse avec une épaisseur définie à partir d’un solide, et l’outil Couverture permet de créer une face à partir d’une boucle fermée d’arêtes \(pas nécessairement coplanaires\). Ces outils simples, mais puissants permettent de créer rapidement des formes à partir de n’importe quelle forme géométrique._


_Dans cet exercice, nous allons créer un penthouse au-dessus du fichier __**Encode Campus Sample Model.axm**__ à l’aide des outils Coque et Couverture, et d’autres outils de modélisation non abordés dans la_ _**partie I du guide FormIt Primer**. Si ce n’est pas déjà fait, téléchargez le fichier ci-dessus à partir du dossier_ _**FormIt Primer Part 2 Datasets** (Jeux de données de la partie II du guide FormIt Primer)._

## **Modélisation du volume du penthouse**

_Nous allons d’abord créer la forme de volume du penthouse à l’aide de divers outils de modélisation. N’hésitez pas à suivre les instructions ou à faire preuve de créativité pour créer votre propre conception !_

1 – Ouvrez le fichier **Encode Campus Sample Model.axm** et accédez à la scène **Penthouse** (Penthouse) \(ou ajustez la vue et les calques de manière à afficher le toit du bâtiment principal\).

2 – Utilisez quelques primitives géométriques pour créer une forme rapidement :

1. Dans la **barre d’outils Standard**, sélectionnez **Cube \(Alt + B\)** dans le bouton déroulant **Créer des primitives**.
2. Lorsque l’aperçu du cube est actif, appuyez sur la touche **Tab** pour en définir les dimensions \(Largeur : **100 pi**, Profondeur : **15 pi**, Hauteur : **10 pi**\), puis placez-le sur le toit à un emplacement similaire à celui de l’image ci-dessous. Comme pour le placement d’un composant, vous pouvez faire pivoter le cube par intervalles de 90 degrés en appuyant sur la touche **Espace**.
3. Ajoutez un deuxième **cube \(Alt + B\)**, \(Largeur : **30 pi**, Profondeur : **15 pi**, Hauteur : **12 pi**\) et faites-le pivoter de **8.5** degrés, de sorte qu’il corresponde à l’angle de la façade et crée un angle de **98.5** degrés avec le cube long. Positionnez ce cube de sorte qu’il croise le cube long, comme dans l’image ci-dessous.

![](../../.gitbook/assets/0%20%2811%29.png)

_**Remarque :**_ _assurez-vous que les deux cubes sont placés directement sur la surface du toit. Il est facile d’en modifier l’élévation par inadvertance lorsque vous les déplacez._

3 – Pour transformer la zone en un espace plus spectaculaire, nous allons incliner certaines de ses faces à l’aide de l’outil **Incliner la face \(TF\)**.

1. Sélectionnez la face NE ou NO de la zone inclinée, cliquez avec le bouton droit de la souris pour afficher le **menu contextuel**, puis choisissez **Incliner la face \(TF\)**.
2. Inclinez la face selon un angle de **15** degrés vers l’extérieur. Comme pour de nombreux outils FormIt, appuyez sur la touche **Tab** ou saisissez un nombre.
3. Procédez de la même manière pour la face adjacente, comme illustré.

![](../../.gitbook/assets/1%20%2815%29.png)

_**Remarque :**_ _dans l’outil_ _**Incliner la face \(TL\)**_ _, vous pouvez faire pivoter la face sélectionnée autour de l’axe de votre choix. Utilisez simplement les poignées circulaires pour ajuster l’axe de rotation \(pointillés bleus\)._

4 – Pour complexifier un peu la forme, ajoutez quelques courbes :

1. Ouvrez la liste déroulante **Créer des primitives**, mais cette fois, sélectionnez **Cylindre**.
2. Utilisez le rayon par défaut de **6 pi** et la hauteur de **12 pi** et placez le cylindre n’importe où sur le toit pour l’instant.
3. À l’aide de l’outil **Échelle non uniforme**, étirez le cylindre dans la direction parallèle à la zone allongée de **300%**. Pour en savoir plus sur les outils de mise à l’échelle, reportez-vous au chapitre **1.11 – Importation de modèles avec la bibliothèque de contenu.**
4. Déplacez le cylindre de sorte que le centre de son axe long se trouve le long de l’arête de la zone allongée, comme illustré. N’oubliez pas que basculer régulièrement entre les vues, comme la vue **Vue de dessus \(VT\)** utilisée dans la deuxième image ci-dessous, peut être utile pour la modélisation et le placement d’objets.

![Placement et mise à l’échelle du cylindre](../../.gitbook/assets/2%20%2815%29.png)

![Placement du cylindre étiré](../../.gitbook/assets/3%20%288%29.png)

_**Remarque :**_ _même si les formes que nous avons placées jusqu’à présent se chevauchent, vous pouvez toujours les sélectionner individuellement en double-cliquant sur l’une de leurs faces ou arêtes. En effet, chaque fois que vous placez \(ou créez\) une forme fermée, FormIt la reconnaît comme un « corps » et conserve la trace de sa géométrie jusqu’à ce que vous la joigniez intentionnellement à un autre élément._

## **Attachement et coupe**

_Vous pouvez utiliser les outils __**Attacher la géométrie \(JG\)**__ et __**Couper la géométrie \(CG\)**__ pour fusionner les formes que vous venez de créer en une seule forme._

1 – Tout d’abord, nous allons effectuer l’attachement :

1. Dans la **barre d’outils Standard**, cliquez sur la liste déroulante **Outils de géométrie avancés** et sélectionnez l’outil **Attacher la géométrie \(JG\)**.
2. L’**Assistant Attacher la géométrie** s’affiche. Comme pour l’utilisation de l’outil **Balayage** dans le chapitre **1.9 – Ajout de détails**, tous les outils de géométrie avancés disposent de leur propre assistant qui vous guide tout au long de leur utilisation.
3. Sélectionnez l’une des cases. Veillez à double-cliquer pour sélectionner le solide entier, et pas seulement une face. Notez que l’assistant passe automatiquement à l’étape suivante.
4. Sélectionner la case restante.
5. Cliquez sur la coche dans l’assistant pour terminer l’attachement. Pour vérifier si cela a fonctionné, double-cliquez sur les géométries que vous venez d’attacher pour toutes les sélectionner.

![](../../.gitbook/assets/4%20%287%29.png)

_**Remarque :**_ _si votre sélection actuelle contient déjà une géométrie pouvant être attachée, comme deux \(2\) solides qui se chevauchent ou plus, vous pouvez également accéder à l’outil_ _**Attacher la géométrie \(JG\)**_ _à partir du menu contextuel en cliquant avec le bouton droit de la souris sur la géométrie sélectionnée._

2 – Nous allons maintenant découper l’ellipse dans le volume de la boîte :

1. Sans sélectionner de géométrie, accédez aux **Outils de géométrie avancés** et cliquez sur **Couper la géométrie \(CG\)**.
2. L’**Assistant** **Couper la géométrie** s’affiche. Lisez attentivement ce qui est indiqué, car, contrairement à l’attachement, lors de la coupe, l’ordre dans lequel vous sélectionnez la géométrie est important.
3. Tout d’abord, **sélectionnez le solide à couper**. Dans notre cas, il s’agit·du volume de la boîte créée ci-dessus.
4. Ensuite, **sélectionnez les solides à supprimer**. Il s’agit du cylindre elliptique.
5. Cliquez sur la coche dans l’assistant pour terminer la coupe.

![](../../.gitbook/assets/5%20%284%29.png)

_**Remarque :**_ _notez que le jeu d’ellipses à « effacer » n’est pas supprimé, mais que sa géométrie a été découpée dans la géométrie de la zone, comme nous allons le voir à l’étape suivante._

3 – Pour terminer, faites glisser la face supérieure de l’ellipse vers le bas de **11 pi–6 po**, afin de créer une plate-forme de 6 po d’épaisseur. Vous pourrez l’utiliser comme point de départ pour le patio du jardin suspendu ultérieurement. Vous devriez maintenant être en mesure de visualiser clairement la coupe que nous venons de faire.

![](../../.gitbook/assets/6%20%288%29.png)

## **Coque et Couverture**

_Maintenant que le volume est construit, utilisez l’outil_ _**Solide\(s\) de coque \(SH\)**_ _pour créer rapidement un espace avec des murs, un sol et un toit qui ont tous une épaisseur. Vous pouvez ensuite utiliser l’outil_ _**Couverture \(CV\)**_ _pour créer rapidement des faces de verre pour votre penthouse._

1 – Si vous sélectionnez un solide entier, l’outil Coque permet de créer une « coque » décalée par rapport à la géométrie sélectionnée sur tous les côtés, la rendant creuse, mais couverte sur tous les côtés. La façon la plus utile d’utiliser l’outil Coque est souvent de sélectionner les faces d’un solide que vous ne voulez pas inclure dans la coque. Cela semble compliqué ? Il n’en est rien, essayons :

1. Dans la boîte de dialogue **Outils de modélisation avancés**, sélectionnez **Solide\(s\) de coque \(SH\)**.
2. Dans la boîte de dialogue **Distance de décalage** qui s’affiche, saisissez une épaisseur de **–8 po**, puis appuyez sur **OK**.
3. À l’aide de simples clics, sélectionnez uniquement les trois faces devant rester ouvertes, la surface incurvée et les deux faces inclinées créées précédemment.
4. Cliquez sur la coche dans l’assistant pour terminer la coque.

_**Remarque :**_ _une valeur de décalage de coque négative permet de décaler les nouvelles surfaces vers l’intérieur de la forme, tandis qu’une valeur positive permet de les décaler vers l’extérieur._

![Coque en cours](../../.gitbook/assets/7%20%285%29.png)

![Coque finie](../../.gitbook/assets/8_finished-shell.png)

2 – Le penthouse est maintenant presque terminé, il lui manque juste quelques murs. Utilisez la commande **Couverture \(CV\)** pour créer rapidement des surfaces à partir d’une boucle d’arêtes sélectionnée. Tout d’abord, couvrez la zone incurvée :

1. Dans la boîte de dialogue **Outils de modélisation avancés**, sélectionnez **Couverture \(CV\)**.
2. Sélectionnez les quatre \(4\) arêtes autour de l’ouverture incurvée. Vous devrez peut-être utiliser la touche **Tab** pour sélectionner une arête incurvée entière à la fois.
3. Cliquez sur la coche dans l’assistant pour terminer la couverture.

![](../../.gitbook/assets/8%20%289%29.png)

_**Remarque :**_ _lorsque vous êtes invité à effectuer une sélection lors de l’utilisation d’un assistant, qu’il s’agisse d’un outil de modélisation avancé ou d’un script Dynamo, il n’est pas nécessaire de maintenir la touche_ _**Ctrl**_ _ou_ _**Maj**_ _pour désélectionner ou sélectionner plusieurs objets. Pour supprimer un objet précédemment sélectionné, il suffit de recliquer dessus._

3 – Procédez de la même façon pour les ouvertures sur lesquelles se trouvaient les faces inclinées. Si vous avez recopié notre conception, vous devez sélectionner huit \(8\) arêtes.

![](../../.gitbook/assets/9%20%285%29.png)

## **Finalisation**

_Pour terminer le penthouse, nous allons tester plusieurs méthodes pour créer rapidement des murs-rideaux à partir des surfaces que nous venons de créer._

1 – Commençons par utiliser le script intégré Dynamo **Storefront Curtainwall** (Mur-rideau de vitrine). Si vous n’avez jamais utilisé Dynamo dans FormIt, consultez le chapitre **1.10 – Computational Groups with Dynamo** (Groupes informatiques avec Dynamo) de la partie I du guide FormIt Primer.

1. Dans la **palette Dynamo**, assurez-vous que la liste déroulante de dossiers est définie sur **Dynamo Samples** (Échantillons Dynamo).
2. Faites défiler la liste vers le bas et cliquez sur la mosaïque **Storefront Curtainwall** (Mur-rideau de vitrine). L’assistant de ce script s’affiche.
3. Dans la zone de dessin, sélectionnez les deux surfaces inclinées créées à l’aide de l’outil **Couverture \(CV\)**.
4. Cliquez sur la coche dans l’assistant, puis attendez que le script s’exécute. Cette opération peut prendre quelques secondes.
5. \(facultatif\) Mettez à jour les paramètres du script et réexécutez-le jusqu’à ce que la disposition du meneau vous convienne. Les entrées modifiées à partir de leurs valeurs par défaut étaient les suivantes :
   1. Profondeur du meneau : **0.5**
   2. Espacement du premier meneau horizontal \(au centre\) : **4.833**
   3. Espacement des meneaux horizontaux types \(au centre\) : **4.833**
6. Peignez les surfaces utilisées pour l’entrée du script avec le matériau transparent de votre choix. Nous avons utilisé **Glass – New** (Verre – Nouveau).

![](../../.gitbook/assets/10%20%283%29.png)

![](../../.gitbook/assets/11%20%285%29.png)

_**Remarque :**_ _pour en savoir plus sur les utilisations avancées de Dynamo dans FormIt, consultez le chapitre de la partie II du guide qui traite spécifiquement de Dynamo :_ _**Dynamo FormIt Nodes** (Nœuds Dynamo FormIt)._

2 – Malheureusement, le script utilisé dans la dernière étape ne fonctionne pas toujours très bien sur les surfaces incurvées. Pour donner rapidement une apparence de mur-rideau à une surface simple, vous pouvez également utiliser un matériau avec une texture **Découpe** qui permet de rendre une partie du matériau transparent. FormIt est fourni avec trois matériaux intégrés \(3\) de ce type pour les murs-rideaux. Il suffit d’en sélectionner un, de peindre la surface, puis de le mettre à l’échelle à l’aide de l’outil **Ajuster le positionnement des matériaux** :

1. Dans la **palette Matériaux**, importez **Glass – Storefront with Spandrel** (Verre – Vitrine avec allège) à partir de **Material Samples > Glass+Glazing** (Échantillons de matériaux > Verre+Vitrage), puis peignez la surface incurvée avec ce matériau. Pour plus d’informations sur l’importation et l’utilisation des matériaux, reportez-vous au **Chapitre 1.7 – Peinture avec matériaux** de la partie I du guide FormIt Primer.
2. Cliquez avec le bouton droit de la souris sur la surface incurvée que vous venez de peindre et sélectionnez **Ajuster le positionnement des matériaux** **\(MP\)**.
3. À l’aide des flèches haut et bas, mettez le matériau à l’échelle verticalement jusqu’à ce que le meneau situé au-dessus de la fine bande de la fenêtre horizontale soit visible sous l’arête supérieure de l’ouverture incurvée. Selon notre conception, il semble qu’une hauteur de **8 pi–7 po** fonctionne bien.
4. À présent, à l’aide de la flèche horizontale, mettez le matériau à l’échelle horizontalement de sorte que les meneaux verticaux soient à environ 3 pieds les uns des autres, comme dans l’espacement utilisé dans nos murs-rideaux inclinés. Selon notre conception, il semble qu’une valeur de **9 pi** fonctionne bien.

![Peinture avec un matériau de mur-rideau de découpe](../../.gitbook/assets/12%20%286%29.png)

![Étirement vertical du matériau](../../.gitbook/assets/13%20%282%29.png)

![Étirement horizontal du matériau](../../.gitbook/assets/14%20%281%29.png)

3 – Ajoutez les touches finales à la conception ! Dans l’image finale ci-dessous, voici certaines des améliorations apportées au toit :

* Utilisation de l’outil **Balayage \(SP\)** pour ajouter un parapet, lié au contour du toit.
* Utilisation du script Dynamo OOTB **Array Along Path** (Réseau le long du chemin) pour placer des tuiles autour du périmètre du toit.
* Ajout de divers matériaux de recouvrement au penthouse, à l’aide de l’outil **Ajuster le positionnement des matériaux** **\(MP\)** ci-dessus pour faire pivoter et éclairer leurs joints.
* Téléchargement et conversion d’un fichier .skp d’un panneau solaire, puis importation de ce fichier dans le modèle. Pour en savoir plus sur l’importation de différents types de fichiers, reportez-vous à la section **Exportation et importation avancées**.
* Ajout de guirlandes lumineuses à l’aide du plug-in **Generate String Lights** (Générer des guirlandes lumineuses). Pour en savoir plus sur les plug-ins, consultez le chapitre suivant de la partie II : **Plug-ins**.

N’hésitez pas à personnaliser le modèle selon vos envies et à explorer d’autres outils de modélisation avancés non abordés dans ce chapitre ! Pour comparer votre création à notre exemple de modèle terminé, téléchargez et ouvrez le fichier d’exemple **Encode Campus Sample File\_Completed.axm** à partir du dossier **Encode Model Data Set** (Jeu de données Modèle Encode).

![Scène dans le modèle terminé.](../../.gitbook/assets/15%20%281%29.png)

\_\_

