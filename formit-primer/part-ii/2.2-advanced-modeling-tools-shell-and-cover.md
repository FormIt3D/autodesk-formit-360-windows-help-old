# 2.2 — Zaawansowane narzędzia modelowania: Skorupa i Zakryj

_Narzędzie Skorupa umożliwia utworzenie z bryły wydrążonej formy o określonej grubości, a narzędzie Zakryj powoduje utworzenie powierzchni z zamkniętej pętli krawędzi \(niekoniecznie współpłaszczyznowych\). Są to proste, ale skuteczne narzędzia do szybkiego tworzenia form z niemal dowolnego kształtu geometrycznego._


_W tym ćwiczeniu utworzymy nadbudówkę w górnej części modelu_ _**Encode Campus Sample Model.axm**_ _za pomocą narzędzi Skorupa i Zakryj, korzystając jednocześnie z różnych innych narzędzi modelowania, które nie zostały opisane w przewodniku_ _**FormIt Primer — część I**. Jeśli jeszcze nie zostało to zrobione, powyższy plik można pobrać z zestawu danych_ _**FormIt Primer Part 2 Dataset**._

## **Modelowanie bryły nadbudówki**

_Najpierw za pomocą różnych narzędzi modelowania utworzymy formę bryły dla nadbudówki. Skorzystaj z przykładu lub wykonaj samodzielnie swój własny projekt._

1 — Po otwarciu pliku **Encode Campus Sample Model.axm** przejdź do sceny **Penthouse** \(Nadbudówka\) \(lub dostosuj widok i warstwy, aby zobaczyć dach budynku głównego\).

2 — Użyjmy kilku prymitywów geometrycznych, aby szybko utworzyć formę:

1. Na **pasku narzędzi Standardowy** wybierz opcję **Sześcian \(Alt + B\)** z menu rozwijanego **Utwórz prymitywy**.
2. Przy aktywnym podglądzie sześcianu naciśnij klawisz **Tab**, aby ustawić wymiary bryły \(Szerokość: **100’**, Głębokość: **15’**, Wysokość: **10’**\), a następnie umieść ją na dachu w położeniu podobnym do pokazanego na poniższej ilustracji. Podobnie jak w przypadku umieszczania komponentu, sześcian można obracać o 90 stopni, naciskając klawisz **Spacja**.
3. Dodaj drugi **Sześcian \(Alt + B\)** \(Szerokość: **30’**, Głębokość: **15’**, Wysokość: **12’**\) i obróć go o **8,5** stopnia, tak aby dopasować nachylenie elewacji i utworzyć kąt **98,5** stopnia z długim sześcianem. Ustaw ten sześcian tak, aby przecinał się z długim sześcianem, podobnie jak na poniższej ilustracji.

![](../../.gitbook/assets/0%20%2811%29.png)

_**Uwaga:**_ _upewnij się, że oba sześciany są umieszczone bezpośrednio na powierzchni dachu. Podczas przesuwania można łatwo zmienić przez przypadek ich wysokość._

3 — Aby przekształcić kostkę w coś ciekawszego, nachylimy niektóre jej powierzchnie za pomocą narzędzia **Pochyl powierzchnię \(TF\)**.

1. Wybierz powierzchnię NE lub NW pochylonej kostki, kliknij prawym przyciskiem myszy, aby wywołać **menu kontekstowe**, a następnie wybierz opcję **Pochyl powierzchnię \(TF\)**.
2. Pochyl powierzchnię o kąt **15** stopni na zewnątrz. Podobnie jak w przypadku wielu narzędzi oprogramowania FormIt, możesz nacisnąć klawisz **Tab** lub po prostu rozpocząć wpisywanie liczby.
3. Wykonaj te same czynności w przypadku przylegającej powierzchni, jak pokazano na ilustracji.

![](../../.gitbook/assets/1%20%2815%29.png)

_**Uwaga:**_ _podczas korzystania z narzędzia_ _**Pochyl powierzchnię \(TL\)**_ _możesz obracać wybraną powierzchnię wokół dowolnej osi. Wystarczy użyć okrągłych uchwytów, aby dopasować oś obrotu \(kropkowana niebieska linia\)._

4 — Aby nieco bardziej skomplikować formę, dodajmy jakieś krzywe:

1. Otwórz listę rozwijaną **Utwórz prymitywy**, ale tym razem wybierz opcję **Walec**.
2. Używając domyślnego promienia o wartości **6 stóp** i wysokości **12 stóp**, umieść na razie walec w dowolnym miejscu na dachu.
3. Za pomocą narzędzia **Skala niejednorodna** rozciągnij walec w kierunku równoległym do długiej kostki o **300%**. Aby dowiedzieć się więcej na temat narzędzi skalowania, zapoznaj się z rozdziałem **1.11 — Importowanie modeli z biblioteką elementów.**
4. Przesuń walec tak, aby środek jego długiej osi biegł wzdłuż krawędzi długiej kostki, jak pokazano na ilustracji. Pamiętaj, że ciągłe przełączanie między widokami, takimi jak **Widok z góry \(VT\)** używany na drugiej ilustracji poniżej, może ułatwić modelowanie i przenoszenie obiektów na miejsce.

![Umieszczanie i skalowanie walca](../../.gitbook/assets/2%20%2815%29.png)

![Przenoszenie rozciągniętego walca na miejsce](../../.gitbook/assets/3%20%288%29.png)

_**Uwaga:**_ _chociaż kształty, które umieściliśmy, nakładają się na siebie, można nadal indywidualnie wybierać poszczególne kształty, klikając dwukrotnie ich dowolne powierzchnie lub krawędzie. Jest to możliwe dlatego, że za każdym razem, gdy umieszczasz \(lub tworzysz\) zamknięty kształt, oprogramowanie FormIt rozpoznaje go jako „bryłę” i śledzi jego geometrię w całości, dopóki nie połączysz go celowo z czymś innym._

## **Łączenie i cięcie**

_Za pomocą narzędzi_ _**Dołącz geometrię \(JG\)**_ _i_ _**Dotnij geometrię \(CG\)**_ _możemy scalić utworzone kształty w jedną formę._

1 — Najpierw wykonamy połączenie:

1. Na **pasku narzędzi Standardowy** kliknij listę rozwijaną **Zaawansowane narzędzia geometrii** i wybierz narzędzie **Dołącz geometrię \(JG\)**.
2. Spowoduje to wyświetlenie **kreatora dołączania geometrii**. Podobnie jak w przypadku użycia narzędzia **Przeciągnij** w rozdziale **1.9 — Dodawanie szczegółów**, wszystkie zaawansowane narzędzia geometrii mają własnego kreatora, który pomaga w ich używaniu.
3. Zaznacz jedną z kostek. Kliknij dwukrotnie, aby wybrać całą bryłę, a nie tylko pojedynczą powierzchnię. Zwróć uwagę, że kreator automatycznie przechodzi do kolejnego kroku.
4. Zaznacz drugą kostkę.
5. Kliknij znacznik wyboru w kreatorze, aby zakończyć połączenie. Aby sprawdzić, czy wszystko działa, musisz mieć możliwość zaznaczenia całej nowo połączonej geometrii jednym dwukrotnym kliknięciem.

![](../../.gitbook/assets/4%20%287%29.png)

_**Uwaga:**_ _jeśli bieżące zaznaczenie zawiera już geometrię, którą można połączyć, np. dwie \(2\) lub więcej nakładających się brył, z menu kontekstowego można również uzyskać dostęp do narzędzia __**Dołącz geometrię \(JG\)**__, klikając prawym przyciskiem myszy wybraną geometrię._

2 — Teraz wytniemy elipsę z bryły w kształcie kostki:

1. Nie zaznaczając geometrii, przejdź do sekcji **Zaawansowane narzędzia geometrii** i kliknij opcję **Dotnij geometrię \(CG\)**.
2. Zostanie wyświetlony **kreator** **docinania geometrii**. Dokładnie przeczytaj wyświetlane informacje, ponieważ podczas docinania, w odróżnieniu od łączenia, kolejność zaznaczania geometrii jest ważna.
3. Najpierw **wybierz bryłę, w której element ma zostać wycięty**, czyli w naszym przypadku utworzoną powyżej bryłę w kształcie kostki.
4. Następnie **wybierz bryły do usunięcia**, czyli walec eliptyczny.
5. Kliknij znacznik wyboru w kreatorze, aby zakończyć docinanie.

![](../../.gitbook/assets/5%20%284%29.png)

_**Uwaga:**_ _zwróć uwagę, że elipsa ustawiona jako „usunięta” nie zostanie usunięta, natomiast jej geometria została wyrzeźbiona z geometrii kostki, jak zobaczymy w następnym kroku._

3 — Aby zakończyć, przeciągnij górną powierzchnię elipsy w dół o **11 stóp i 6 cali**, tak aby stała się platformą o grubości 6 cali. Później możemy użyć tego jako punktu wyjścia dla tarasu w naszym ogrodzie dachowym. Teraz wykonane docięcie powinno być wyraźnie widoczne.

![](../../.gitbook/assets/6%20%288%29.png)

## **Skorupa i Zakryj**

_Po skonstruowaniu bryły możemy za pomocą narzędzia_ _**Powłoka brył \(SH\)**_ _szybko utworzyć przestrzeń ze ścianami, stropem i dachem o określonej grubości. Następnie możemy użyć narzędzia_ _**Zakryj \(CV\)**_ _, aby szybko utworzyć szklane powierzchnie dla naszej nadbudówki._

1 — Po wybraniu całej bryły narzędzie Skorupa utworzy odsunięcie „skorupy” od wybranej geometrii ze wszystkich stron, co spowoduje, że będzie ona wydrążona, ale nadal pokryta ze wszystkich stron. Często lepszym sposobem użycia narzędzia Skorupa jest zaznaczenie powierzchni bryły, które nie mają znajdować się w skorupie. Brzmi skomplikowanie? Tak naprawdę to całkiem proste. Spróbujmy poniżej:

1. Z listy **Zaawansowane narzędzia modelowania** wybierz pozycję **Powłoka brył \(SH\)**.
2. W wyświetlonym oknie dialogowym **Odległość odsunięcia** wprowadź grubość **-8"** i naciśnij klawisz **OK**.
3. Używając pojedynczych kliknięć, wybierz tylko trzy powierzchnie, które mają pozostać otwarte: powierzchnię zakrzywioną i dwie powierzchnie pochylone, które utworzyliśmy wcześniej.
4. Kliknij znacznik wyboru w kreatorze, aby zakończyć skorupę.

_**Uwaga:**_ _ujemna wartość odsunięcia skorupy spowoduje odsunięcie nowych powierzchni w kierunku wewnętrznej strony kształtu, natomiast wartość dodatnia spowoduje odsunięcie ich na zewnątrz._

![Skorupa w toku](../../.gitbook/assets/7%20%285%29.png)

![Ukończona skorupa](../../.gitbook/assets/8_finished-shell.png)

2 — Teraz mamy już prawie kompletną nadbudówkę, brakuje w niej tylko kilku ścian. Możemy użyć polecenia **Zakryj \(CV\)**, aby szybko utworzyć kilka powierzchni z wybranej pętli krawędzi. Najpierw zakryjmy zakrzywiony obszar:

1. Z listy **Zaawansowane narzędzia modelowania** wybierz pozycję **Zakryj \(CV\)**.
2. Zaznacz wszystkie cztery \(4\) krawędzie wokół zakrzywionego otworu. W celu zaznaczenia za jednym razem całej zakrzywionej krawędzi może być konieczne użycie klawisza **Tab**.
3. Kliknij znacznik wyboru w kreatorze, aby zakończyć zakrywanie.

![](../../.gitbook/assets/8%20%289%29.png)

_**Uwaga:**_ _za każdym razem, gdy zostanie wyświetlony monit o dokonanie wyboru podczas korzystania z kreatora — czy to za pomocą zaawansowanych narzędzi modelowania, czy za pomocą skryptu Dynamo — nie trzeba przytrzymywać klawisza_ _**Ctrl**_ _ani_ _**Shift**_, _aby anulować zaznaczenie lub zaznaczyć wiele obiektów. Aby usunąć wcześniej zaznaczony obiekt, wystarczy kliknąć go ponownie._

3 — Wykonaj tę samą czynność w przypadku otworów, w których znajdowały się pochylone powierzchnie. Jeśli powtarzasz nasz projekt, musisz zaznaczyć osiem \(8\) krawędzi.

![](../../.gitbook/assets/9%20%285%29.png)

## **Wykańczanie**

_W celu wykończenia nadbudówki pokażemy kilka przykładowych sposobów szybkiego tworzenia ścian osłonowych z powierzchni, które właśnie utworzyliśmy._

1 — Zacznijmy od użycia wbudowanego skryptu Dynamo **Storefront Curtainwall** \(Ściana osłonowa witryny\). Jeśli nie potrafisz używać dodatku Dynamo w oprogramowaniu FormIt, zapoznaj się z rozdziałem **1.10 — Grupy obliczeniowe z dodatkiem Dynamo** w przewodniku FormIt Primer — część I.

1. W **palecie Dynamo** upewnij się, że lista rozwijana folderu jest ustawiona na **Dynamo Samples** \(Próbki Dynamo\).
2. Przewiń w dół i kliknij kafelek **Storefront Curtainwall** \(Ściana osłonowa witryny\), co spowoduje uruchomienie kreatora dla tego skryptu.
3. W obszarze rysunku zaznacz dwie pochylone powierzchnie, które właśnie utworzyliśmy za pomocą narzędzia **Zakryj \(CV\)**.
4. Kliknij znacznik wyboru w kreatorze, a następnie zaczekaj na uruchomienie skryptu. Może to potrwać kilka sekund.
5. \(opcjonalnie) Aktualizuj parametry skryptu i uruchamiaj go ponownie, aż dopasujesz układ szprosów do swoich upodobań. Wartości domyślne danych wejściowych, które zmieniliśmy to:
   1. Mullion Depth \(Głębokość szprosu\): **0,5**
   2. First Horizontal Mullion Spacing \(on center\) — Odstęp pierwszego szprosu poziomego \(na środku\): **4,833**
   3. Typ. Horizontal Mullion Spacing \(on center\) — Typowy odstęp szprosu poziomego \(na środku\): **4,833**
6. Pomaluj powierzchnie użyte jako dane wejściowe skryptu wybranym materiałem przezroczystym. Użyliśmy materiału **Glass — New** \(Szkło — Nowe\).

![](../../.gitbook/assets/10%20%283%29.png)

![](../../.gitbook/assets/11%20%285%29.png)

_**Uwaga:**_ _aby dowiedzieć się więcej na temat zaawansowanych zastosowań dodatku Dynamo w programie FormIt, zapoznaj się z rozdziałem przewodnika Primer — część II dotyczącym dodatku Dynamo:_ _**Węzły FormIt dodatku Dynamo**._

2 — Niestety skrypt, którego użyliśmy w ostatnim kroku, nie zawsze działa poprawnie w przypadku zakrzywionych powierzchni. Inną metodą szybkiego nadawania powierzchni wyglądu ściany osłonowej jest użycie materiału z mapą **wycięcia**, dzięki której część materiału staje się przezroczysta. Program FormIt zawiera trzy \(3\) wbudowane materiały, takie jak ten, dla ścian osłonowych. Teraz wystarczy wziąć jeden z nich, pomalować powierzchnię, a następnie przeskalować ją za pomocą narzędzia **Dopasuj umieszczenie materiału**:

1. Na **palecie Materiały** zaimportuj element **Glass – Storefront with Spandrel** \(Szkło — Witryna z elewacją\) z listy **Material Samples &gt; Glass+Glazing** \(Próbki materiałów &gt; Szkło i przeszklenie\), a następnie pomaluj zakrzywioną powierzchnię tym materiałem. Aby uzyskać więcej informacji na temat importowania i używania materiałów, zobacz **Rozdział 1.7 — Malowanie z użyciem materiałów** w przewodniku FormIt Primer — część I.
2. Kliknij prawym przyciskiem myszy zakrzywioną powierzchnię, która została pomalowana, i wybierz opcję **Dopasuj umieszczenie materiału** **\(MP\)**.
3. Używając strzałek w górę i w dół, przeskaluj materiał pionowo, aż szpros powyżej cienkiego poziomego pasma okien będzie ledwo widoczny poniżej górnej krawędzi zakrzywionego otworu. W naszym projekcie stwierdziliśmy, że wprowadzenie wysokości **8’-7”** działa poprawnie.
4. Teraz używając strzałki poziomej, przeskaluj materiał w poziomie, tak aby szprosy pionowe znajdowały się w odległości około 3 stóp od siebie, podobnie jak w przypadku odstępów zastosowanych w pochylonych ścianach osłonowych. W naszym projekcie stwierdziliśmy, że wartość **9’** działa poprawnie.

![Malowanie materiałem ściany kurtynowej z wycięciem](../../.gitbook/assets/12%20%286%29.png)

![Rozciąganie materiału w pionie](../../.gitbook/assets/13%20%282%29.png)

![Rozciąganie materiału w poziomie](../../.gitbook/assets/14%20%281%29.png)

3 — Dodaj do projektu ostatnie elementy wykończenia. Na poniższej ilustracji widać kilka czynności, które wykonaliśmy w celu ulepszenia dachu:

* Za pomocą opcji **Przeciągnij \(SP\)** dodaliśmy attykę powiązaną z zarysem dachu.
* Za pomocą skryptu OOTB Dynamo **Array Along Path** \(Szyk wzdłuż ścieżki\) umieściliśmy płytki schodkowe wokół obwodu dachu.
* Dodaliśmy różne materiały płytek do nadbudówki, używając narzędzia **Dopasuj umieszczenie materiału** **\(MP\)** znajdującego się powyżej, aby obrócić i wyrównać połączenia.
* Pobraliśmy i przekształciliśmy plik .skp panelu oświetlenia naturalnego, a następnie zaimportowaliśmy go do modelu. Aby uzyskać więcej informacji na temat importowania różnych typów plików, zobacz sekcję **Zaawansowane eksportowanie i importowanie**.
* Dodaliśmy kilka ciągów świateł za pomocą wtyczki **Generuj ciągi świateł**. Aby dowiedzieć się więcej na temat wtyczek, zobacz następny rozdział w przewodniku Part II: **Wtyczki**.

Zachęcamy do wypróbowywania własnych pomysłów w modelu i poznawania innych zaawansowanych narzędzi modelowania, których nie omówiliśmy w tym rozdziale. Swoje dzieło możesz porównać z naszym gotowym modelem przykładowym, pobierając i otwierając plik **Encode Campus Sample File\_Completed.axm** z zestawu danych **Encode Model Data Set**.

![Scena w ukończonym modelu.](../../.gitbook/assets/15%20%281%29.png)

\_\_

