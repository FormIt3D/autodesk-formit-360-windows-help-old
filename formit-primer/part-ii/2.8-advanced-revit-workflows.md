# 2.8. Расширенные рабочие процессы Revit

_В этой главе рассматривается новая возможность, реализованная в Revit 2022. Запустив приложение FormIt из Revit, можно воспользоваться им для создания геометрии и вариантов конструкции, которые затем можно импортировать обратно в модель Revit. Для этого потребуется файл_ _**Encode Campus Sample Model.rvt**_ _, который входит в_ _**набор данных для части II руководства FormIt Primer**._

_Обратите внимание, что эта возможность доступна при наличии лицензий Revit 2022 и FormIt Pro. Доступ к FormIt Pro предоставляется только подписчикам Autodesk Architecture, Engineering & Construction \(AEC\) Collection или клиентам с корпоративной учетной записью. Подробнее о_ [_**FormIt Pro можно узнать здесь**_](https://formit.autodesk.com/#pro-callout)_._

## Открытие FormIt из Revit

1 – Откройте файл **Encode Campus Sample Model.rvt** в Revit 2022. Убедитесь, что выполнен вход в систему с помощью учетной записи на портале Autodesk Account. Если вход в систему не выполнен или у вас нет лицензии FormIt Pro, то запустить FormIt из Revit будет невозможно.

2 – Для запуска FormIt из Revit выполните следующие действия.

1. Откройте 3D-вид по умолчанию.
2. Перейдите на ленту **Формы и генплан** и нажмите кнопку **3D-эскиз**.
3. Выберите команду **Запустить FormIt со всеми видимыми объектами Revit**. Приложение FormIt будет запущено в новом окне. При этом в него будет импортирована вся видимая геометрия Revit.

![](../../.gitbook/assets/0%20%2822%29.png)

_**Примечание.**_ _Для запуска FormIt необходимо перейти на 3D-вид. В противном случае кнопка_ _**3D-эскиз**_ _будет недоступна._

3 – Добавьте несколько вариантов проекта. Вся видимая геометрия Revit импортируется как одна сеть и размещается в слое **Revit Context**. Добавьте два новых слоя **Option 1** и **Option 2**.

![](../../.gitbook/assets/1%20%2823%29.png)

4 – С помощью этих двух слоев создайте эскизы вариантов фасадов двух зданий с каменной кладкой на основе формообразующих элементов. Фасады обращены во внутренний двор. В Option 1 были добавлены выдавленные стеклянные элементы, имитирующие элементы главного здания. В Option 2 вы можете проявить свои творческие способности. Мы добавили в него несколько кривых и мост. Не забывайте группировать геометрию и размещать группы в соответствующих слоях.

![Option 1](../../.gitbook/assets/2%20%2823%29.png)

![Option 2](../../.gitbook/assets/3%20%2820%29.png)

5 – Импортируйте эти проекты отдельно в два различных варианта конструкции в модели Revit. Чтобы импортировать проект из слоя **Option 1** обратно в Revit, выполните следующие действия.

1. Убедитесь, что на **палитре «Слои»** включен слой **Option 1**, а слой **Option 2** отключен.
2. Выберите всю геометрию в слое **Option 1**. Для упрощения этой процедуры можно отключить или заблокировать слой **Revit Context**.
3. На **панели инструментов «Стандартная»** в FormIt нажмите крайнюю правую кнопку **Отправить выбранную модель обратно в Revit**.
4. Убедитесь, что во всплывающем диалоговом окне установлен флажок **Только выбранные**.
5. Нажмите **ОК**.

![](../../.gitbook/assets/4%20%2819%29.png)

_**Примечание.**_ _Кнопка_ _**Revit**_ _не отображается в обычном сеансе FormIt. Она доступна, только если приложение FormIt было запущено из Revit._

6 – Вернитесь в Revit. Геометрия FormIt из слоя **Option 1** импортируется в модель Revit. Каждая группа импортируется как отдельное семейство типовой модели. Разместите их в варианте конструкции, а затем импортируйте **Option 2** в другой вариант конструкции.

1. В Revit выберите всю геометрию, которая была импортирована из FormIt.
2. В нижней части окна Revit нажмите кнопку **Добавить в набор**.
3. В диалоговом окне **Добавить в набор вариантов конструкции** в разделе **Варианты для внутреннего двора** снимите флажок **Option 2**. Теперь выбранная геометрия будет присутствовать только в варианте конструкции 1.

_**Примечание.**_ _Варианты конструкции в Revit — это простой способ отслеживания различных проектных идей, относящихся к одной модели, и переключения между ними. Дополнительные сведения см. в теме_ [_«Варианты конструкции» раздела «Поддержка и обучение» по программам Revit_](https://knowledge.autodesk.com/ru/support/revit-products/learn-explore/caas/CloudHelp/cloudhelp/2021/RUS/Revit-Model/files/GUID-D48B1E7E-BC34-414E-85BD-790F199BB2C0-htm.html)_._

![](../../.gitbook/assets/5%20%2818%29.png)

7 – Перед импортом второго проекта поменяйте активные варианты конструкции так, чтобы новая геометрия импортировалась непосредственно в требуемый вариант конструкции. В нижней части окна Revit в меню «Вариант конструкции» выберите **Option 2**. Теперь, когда этот вариант конструкции активен, вся созданная или импортированная геометрия будет автоматически размещена в нем.

![](../../.gitbook/assets/6%20%2815%29.png)

_**Примечание.**_ _При отправке геометрии обратно в Revit любые элементы геометрии, находящиеся на слое_ _**Revit Context**_, _будут игнорироваться._

8 – Перейдите обратно в FormIt и импортируйте геометрию в **Option 2**, нажав кнопку **Отправить выбранную модель обратно в Revit**, как вы это делали ранее.

9 – Теперь можно просматривать оба проекта, переключаясь между вариантами конструкции в нижней части окна Revit. Если изменить значение параметра **Визуальный стиль** на «Реалистичный», то можно видеть, что все материалы, примененные в FormIt, были перенесены в Revit примерно так же, как это описано в **части I** настоящего руководства в главе **1.15. Работа с Revit**. На изображении ниже мы создали в Revit 3D-вид в перспективе, чтобы рассмотреть варианты конструкции.

![](../../.gitbook/assets/7%20%2810%29.png)

## Экспорт границ 3D-вида

_Иногда не требуется экспортировать всю модель Revit в FormIt, а только ее небольшую область или внутреннее пространство. Ниже приведен пример быстрого экспорта небольшой части модели Revit в FormIt и обратно._

1. Выберите вариант конструкции **Main Model**.

2. Не закрывая файл **Encode Campus Revit Model.rvt**, выберите пункт **Corner Office 3D View** в Диспетчере проектов.

3. Как и в предыдущем упражнении, нажмите кнопку **3D-эскиз** на ленте **Формы и генплан** и выберите **Запустить FormIt со всеми видимыми объектами Revit**.

![](../../.gitbook/assets/8%20%2810%29.png)

_**Примечание.**_ _При работе с FormIt и Revit существует два варианта выбора геометрии, которую требуется перенести. Можно взять на себя управление видимым содержимым на текущем виде, а затем выбрать параметр переноса всей видимой геометрии или просто перенести выбранную в данный момент геометрию._

3. FormIt запустится снова, и вы сможете создать исследование проекта с помощью инструментов моделирования FormIt в контексте модели, экспортированной из Revit. В завершение снова нажмите кнопку **Отправить выбранную модель обратно в Revit**, и проект будет импортирован в модель Revit в нужное расположение.

Благодаря свободному обмену данными между Revit и FormIt можно быстро создавать прототипы проектных идей для любой части проекта независимо от размера. Дополнительные сведения об использовании FormIt см. на странице [**FormIt + Revit**](https://formit.autodesk.com/page/formit-revit#:~:text=FormIt%20Groups%20become%20Revit%20Mass,%20Revit%202018%20and%20newer.).

