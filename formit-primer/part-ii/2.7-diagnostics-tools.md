# 2.7 – Diagnostické nástroje

2.7 – Diagnostické nástroje

Aplikace FormIt se dodává s užitečnými integrovanými nástroji pro diagnostiku modelu, které vám pomohou udržet model v bezchybném stavu, a to včetně kontroly vodotěsnosti geometrie, identifikace převrácených ploch a zobrazení všech ohraničujících kvádrů skupin najednou.

_V této kapitole identifikujeme a opravíme některé chyby v souboru_ _**Encode Campus Sample Model.axm**. Pokud jste tak ještě neučinili, můžete si soubor stáhnout z_ _**datové sady k příručce Základy aplikace FormIt, Část 2**._

_Další informace o opravách modelů naleznete v příspěvku na blogu aplikace FormIt týkajícím se_ [_**oprav modelů těles**_](https://formit.autodesk.com/blog/post/repairing-solid-models)_._

## Identifikace problémů s vodotěsností

_Vodotěsný model nebo skupina je pevný objekt bez mezer, zbloudilých hran nebo jiné_ [_**nerozložené geometrie**_](https://knowledge.autodesk.com/support/maya/learn-explore/caas/CloudHelp/cloudhelp/2016/ENU/Maya/files/GUID-8E97CEF7-1CFE-4838-B4B7-59F526E21AB2-htm.html)_. Kontrola vodotěsnosti může být důležitá pro výpočet objemů, provádění přesných analýz slunečního záření a energetických analýz, export modelů do jiných formátů souborů a přípravu modelů pro 3D tisk nebo výrobu._

1 – Po otevření souboru **Encode Campus Sample Model.axm** upravíme viditelnost vrstvy tak, abychom izolovali geometrii, u které chceme zkontrolovat vodotěsnost:

1. Otevřete **paletu Hladiny**.
2. Vyberte všechny hladiny jedním kliknutím kamkoli v seznamu hladin a stisknutím kláves **Ctrl+A**.
3. Jedním kliknutím zrušte zaškrtnutí kterékoli z aktuálně zaškrtnutých políček hladiny a všechny hladiny se vypnou.
4. Do vstupního pole **Filtr** v horní části palety Hladiny zadejte text **Vnější zdivo**, dokud se nezobrazí pouze požadovaná hladina.
5. Zaškrtnutím políčka zapněte hladinu **Hlavní budova Encode – vnější zdivo**.
6. Na **plovoucím panelu navigace** klikněte na tlačítko **Přiblížit vše (ZA)**. Nyní byste měli vidět pouze vnější cihlové stěny hlavní budovy.

![](<../../.gitbook/assets/0 (18).png>)

![](<../../.gitbook/assets/1 (8).png>)

2 – Nyní zkontrolujme případné problémy s vodotěsností.

1. Otevřete **paletu Vizuální styly**.
2. V pravé horní části klikněte na kartu **Diagnostika modelu** (ikona klíče).
3. Zaškrtněte políčko vedle položky **Identifikovat problémy s vodotěsností**.
4. Všechny problémy s vodotěsností budou zvýrazněny červeně. V tomto případě byly nalezeny dva problémy. Jeden podél celé horní plochy zdi a malý problém, který se ve skutečnosti nachází v okenním arkýři v zadní fasádě budovy. 
5. Než začnete tyto problémy řešit, vyberte skupinu **Vnější zdivo**, otevřete **paletu Vlastnosti** a všimněte si, že vlastnost **Objem** má hodnotu **0 krychlových stop**. Je tomu tak proto, že skupina není vodotěsná, takže její objem nelze vypočítat.

![](<../../.gitbook/assets/2 (16).png>)

_**Poznámka:**_ _Červené zvýraznění problému s vodotěsností je viditelné v jakémkoli materiálu modelu, neprůhledném i průhledném, což usnadňuje jeho vyhledání._

![](<../../.gitbook/assets/3 (5) (1).png>)

3 – Když jsme našli problémy s vodotěsností, můžeme se pustit do jejich řešení. Nejprve se budeme zabývat horní plochou zdi.

1. Dvakrát klikněte na skupinu **Vnější zdivo**, abyste ji mohli upravit, a potom ji přibližte a vyberte horní plochu stěny. Na **paletě Vlastnosti** si všimněte, že horní plocha stěny je ve skutečnosti vlastní skupinou. V aplikaci FormIt musí být vodotěsná geometrie tvořena jedinou skupinou, proto se zobrazují tyto červené \*\*\*\*čáry.
2. Chcete-li tento problém vyřešit, jednoduše pro vybranou plochu zvolte příkaz **Zrušit seskupení (U)** a červená čára kolem horní části cihlové zdi by měla zmizet.

![](../../.gitbook/assets/watertightness\_8\_fixed\_combined\_annotated.png)

_**Poznámka:**_ _To, že jste vybrali seskupenou geometrii, rychle poznáte také podle tečkovaného modrého ohraničujícího rámečku kolem vybrané geometrie. Neseskupené plochy a hrany jej nemají._

4 – Nyní se podívejme na další malý problém s vodotěsností, který je stále zvýrazněn červenou barvou.

1. Přibližujte a otáčejte model, dokud zřetelně neuvidíte malou trojúhelníkovou mezeru. Přibližte si oblast s problémem s vodotěsností, dokud zřetelně neuvidíte trojúhelníkovou mezeru.
2. V režimu úprav skupiny pomocí nástroje **Čára (L)** nakreslete čáru přes jednu z delších hran trojúhelníkového otvoru a poté dvakrát stiskněte klávesu **Esc**, čímž ukončíte nástroj Čára.

![](<../../.gitbook/assets/5 (9).png>)

_**Poznámka:**_ _Aplikace FormIt automaticky vytvoří povrch, který vyplní trojúhelníkovou mezeru po nakreslení jediné úsečky. K tomu dojde vždy, když nakreslíte nebo doplníte koplanární souběžnou skupinu čar._

5 – Červené čáry zvýrazňující problém s vodotěsností by nyní měly zmizet. Na závěr odstraníme zbývající nežádoucí hranu a znovu zkontrolujeme objem skupiny:

1. Chcete-li odstranit nežádoucí hranu, zkuste použít nástroj **Sloučit (MG)**. Tento nástroj spojí všechny koplanární plochy a po jednom kliknutím odstraní všechny přebytečné hrany. Provedete to tak, že dvakrát kliknete na cihlovou stěnu, čímž vyberete všechny její plochy a hrany. Poté kliknutím pravým tlačítkem zobrazte místní nabídku a vyberte možnost **Sloučit (MG)**.
2. Úpravy skupiny ukončíte stisknutím klávesy **Esc** nebo **F**. Poté jedním kliknutím vyberte skupinu **Vnější zdivo** a znovu otevřete **paletu Vlastnosti**, pokud již není otevřená.
3. Nyní, když je skupina vodotěsná, může aplikace FormIt vypočítat **objem** stěny.

![](<../../.gitbook/assets/6 (10).png>)

_**Poznámka:**_ _Funkci_ _**Identifikovat problémy s vodotěsností** lze vedle zkoumání těles s problémy použít také k nalezení všech zbloudilých hran v modelu – vyzkoušejte ji!_

6 – Po dokončení úprav nezapomeňte funkci **Identifikovat vodotěsné problémy** vypnout, jinak bude každá zbloudilá hrana modelu zvýrazněna červeně.

## Identifikace zadních ploch

_Když v aplikaci FormIt pomalujete povrch materiálem, automaticky se aplikuje na obě strany. Jiný software pro 3D modelování a vizualizaci však může povrch vykreslovat odlišně podle toho, která strana je viditelná: „přední“ nebo „zadní“. Aplikace FormIt naštěstí nabízí snadný způsob, jak to zkontrolovat._

1 – Podívejme se na existující **SV budovu**. Přejděte na **paletu Scény** a dvojitým kliknutím na scénu **Výchozí viditelnost** obnovte viditelnost hladiny.

2 – Místo použití hladin tentokrát dvakrát klikněte na skupinu **SV budova**, kterou chcete upravit, a znovu ve skupině **Vnější zdivo**, v níž chcete provést úpravy.

3 – Otáčejte pohledem, dokud se nezobrazí přední fasáda této budovy, a poté povolte možnost **Skrýt kontext skupiny (H)**, abyste viděli pouze cihlové stěny. Nyní můžeme zkontrolovat, zda jsou viditelné nějaké zadní plochy:

1. Znovu otevřete **paletu Vizuální styly**.
2. Pokud ještě není vybrána, klikněte vpravo nahoře na tlačítko **Diagnostika modelu** (ikona klíče).
3. Pokud jste tak dosud neučinili, zrušte zaškrtnutí políčka **Identifikovat problémy s vodotěsností** a místo toho zaškrtněte políčko **Identifikovat zadní plochy**.

![](<../../.gitbook/assets/7 (2).png>)

4 – Existují 3 zadní plochy, které jsou zvýrazněny výchozí barvou aplikace FormIt pro zadní plochy, ale kvůli její podobnosti s cihlovým materiálem jsou špatně viditelné. Tento problém vyřešíte povolením možnosti **Monotónní povrchy**:

1. Chcete-li zobrazit možnosti vizuálních stylů povrchu, klikněte na paletě **Vizuální styly** v levém horním rohu na tlačítko **Povrchy** (ikona plné krychle).
2. Zaškrtněte políčko vedle položky **Monotónní povrchy**. Nyní jsou zadní plochy lépe vidět.

![](<../../.gitbook/assets/8 (4).png>)

_**Poznámka:**_ _Zaškrtávací políčko_ _**Zadní plochy**_ _a barva na kartě_ _**Povrchy**_ _(nezaměňovat s diagnostickým nástrojem_ _**Identifikovat zadní plochy**_ _), umožňuje uživateli obarvit obě strany plochy různými materiály. Pokud toto políčko zaškrtnete, budou zadní plochy bez přiřazeného materiálu vybarveny barvou, která je nastavena v rámečku napravo od políčka_ _**Zadní plochy**_ _. Tato možnost je ve výchozím nastavení aktivována při práci s importovanou geometrií ze softwaru, který ve výchozím nastavení umožňuje, aby protilehlé plochy měly různé materiály, jako například aplikace SketchUp._

5 – Nyní již zbývá jen převrátit zadní strany tak, abychom viděli pouze přední strany. Dvakrát klikněte na skupinu **Vnější zdivo**, kterou chcete upravit, a na každou ze zadních ploch:

1. Přibližte si zadní plochu a klikněte na ni pravým tlačítkem myši, čímž zobrazíte **místní nabídku**.
2. Vyberte možnost **Obrátit plochu (FF)** nebo zadejte klávesovou zkratku **FF**.

![](<../../.gitbook/assets/9 (2).png>)

_**Poznámka:**_ _Můžete také podržet klávesu_ _**Ctrl**_ _nebo_ _**Shift**_ _a kliknout na každou zadní stranu. Tím je vyberete všechny dohromady, a pak je můžete všechny najednou převrátit stisknutím kláves_ _**FF**._

6 – Nezapomeňte vypnout obě funkce **Monotónní povrchy** a **Identifikovat zadní plochy**, aby se opět zobrazily běžné materiály.

## Zobrazení ohraničujících kvádrů skupin

_Tento nástroj umožňuje zobrazit ohraničující kvádry všech skupin v modelu najednou bez ohledu na to, zda je jejich hladina aktuálně viditelná či nikoli. To vám pomůže rychle identifikovat skupiny, jejichž rozměry jsou mnohem větší, než by měly být, a také skupiny s různou orientací os._

1 – Chcete-li, aby byly v modelu viditelné všechny ohraničující kvádry skupin, postupujte následovně:

1. Otevřete **paletu Vizuální styly**.
2. Vpravo nahoře klikněte na tlačítko **Diagnostika modelu** (ikona klíče).
3. Zaškrtněte políčko **Zobrazit ohraničující kvádry skupiny** a zrušte zaškrtnutí všech ostatních políček, které jsou stále zaškrtnuté. 
4. Oddalte pohled pomocí kolečka myši nebo kliknutím na nástroj **Přiblížit (Z)** na **plovoucím panelu navigace**, dokud neuvidíte všechny tečkovaně modré ohraničující kvádry na kreslicí ploše.
5. I když je většina hladin stále vypnutá, všimněte si, že vidíme jeden ohraničující kvádr skupiny, který se zdá být zbytečně velký.

![](<../../.gitbook/assets/10 (4).png>)

_**Poznámka:**_ _Některé ohraničující kvádry v tomto pohledu jsou pod různými úhly. Ohraničující kvádr skupiny je orientován podél osy skupiny, takže základní orientaci vnitřní osy skupiny lze rychle zjistit pohledem na její ohraničující kvádr._

2 – Chcete-li zjistit, co způsobuje, že je ohraničující kvádr tak velký, zapněte všechny hladiny pomocí předem vytvořené scény a zkuste problém vyřešit:

1. Otevřete **paletu** **scény**.
2. Dvojitým kliknutím na scénu s názvem **Výchozí viditelnost** znovu zapněte všechny hlavní hladiny.
3. Vidíte svislou čáru ve vzdáleném rohu největšího ohraničujícího kvádru? Dvakrát na ni klikněte, abyste mohli upravit skupinu, ve které se nachází, poté tuto čáru vyberte a odstraňte ji. Poté skupinu ukončete.

![](<../../.gitbook/assets/11 (4).png>)

3 – Když se nyní podíváte na všechny ohraničující kvádry skupiny, nevidíte žádné ohraničující kvádry, které by byly výrazně větší v porovnání s geometrií modelu.

![](<../../.gitbook/assets/12 (5).png>)
