# 2.7 – Outils de diagnostic

2.7 – Outils de diagnostic

FormIt est fourni avec des outils de diagnostic de modèle intégrés servant à garantir la présentation et l’intégrité de votre modèle, notamment la vérification de l’étanchéité de la géométrie, l’identification des faces inversées et l’affichage simultané de toutes les zones de délimitation de groupe.

_Dans ce chapitre, nous allons identifier et corriger certaines erreurs intégrées au fichier_ _**Encode Campus Sample Model.axm**. Si ce n’est pas déjà fait, téléchargez le fichier à partir du dossier_ _**FormIt Primer Part 2 Datasets** (Jeux de données de la partie II du guide FormIt Primer)._

_Pour plus d’informations sur la réparation de modèles, consultez le blog FormIt_ [_**Repairing Solid Models**_](https://formit.autodesk.com/blog/post/repairing-solid-models) _concernant la réparation des modèles solides._

## Identifier les problèmes d’étanchéité

_Un modèle ou un groupe étanche est un objet solide sans espaces, arêtes parasitées ou autre_ [_**géométrie non multiple**_](https://knowledge.autodesk.com/support/maya/learn-explore/caas/CloudHelp/cloudhelp/2016/ENU/Maya/files/GUID-8E97CEF7-1CFE-4838-B4B7-59F526E21AB2-htm.html)_. La vérification de l’étanchéité peut être importante pour le calcul des volumes, l’exécution d’analyses d’énergie et d’ensoleillement précises, l’exportation de modèles dans d’autres formats de fichier et la préparation de modèles pour l’impression ou la fabrication 3D._

1 – Une fois que vous avez ouvert le fichier **Encode Campus Sample Model.axm**, ajustez la visibilité du calque pour isoler la géométrie dont l’étanchéité doit être vérifiée :

1. Ouvrez la **palette Calques**.
2. Pour sélectionner tous les calques, cliquez n’importe où dans la liste des calques et appuyez sur **Ctrl + A**.
3. Cliquez une fois sur l’une des cases à cocher de calque actuellement activées pour désactiver tous les calques.
4. Dans la zone de saisie **Filtrer** située en haut de la palette Calques, commencez à saisir « **Exterior Masonry »** (Maçonnerie extérieure) jusqu’à ce que le calque souhaité apparaisse.
5. Cochez la case pour activer le calque **Encode Main Building – Exterior Masonry** (Bâtiment principal Encode – Maçonnerie extérieure).
6. Dans la **barre de navigation flottante**, cliquez sur le bouton **Zoom tout (ZA)**. Vous devriez maintenant voir uniquement les murs de brique extérieurs du bâtiment principal.

![](<../../.gitbook/assets/0 (18).png>)

![](<../../.gitbook/assets/1 (8).png>)

2 – Ensuite, recherchez les problèmes d’étanchéité !

1. Ouvrez la **palette Styles visuels**.
2. Sélectionnez l’onglet **Diagnostics du modèle** (icône de clé) dans la partie supérieure droite.
3. Cochez la case en regard de l’option **Identifier les problèmes d’étanchéité**.
4. Les problèmes d’étanchéité sont signalés en rouge. Dans ce cas, il y en a deux : un tout le long de la face supérieure du mur, et une petite spécification située dans une baie vitrée de la façade arrière du bâtiment.
5. Avant de résoudre ces problèmes, sélectionnez le groupe **Exterior Masonry** (Maçonnerie extérieure), ouvrez la **palette Propriétés** et notez que la propriété **Volume** indique **0 pi³**. Cela est dû au fait que le groupe n’est pas étanche. Par conséquent, son volume ne peut pas être calculé.

![](<../../.gitbook/assets/2 (16).png>)

_**Remarque :**_ _étant donné que les problèmes d’étanchéité en rouge sont visibles à travers tout matériau de modèle, opaque ou transparent, ils sont faciles à identifier._

![](<../../.gitbook/assets/3 (5) (1).png>)

3 – Maintenant que vous avez identifié les problèmes d’étanchéité, vous pouvez les résoudre. Tout d’abord, occupez-vous de la face supérieure du mur.

1. Double-cliquez sur le groupe **Exterior Masonry** (Maçonnerie extérieure) pour le modifier, puis effectuez un zoom avant et sélectionnez la face supérieure du mur. Dans la **palette Propriétés**, notez que la face supérieure du mur correspond à un groupe. Dans FormIt, une géométrie étanche doit être composée d’un seul groupe, c’est pourquoi ces lignes \*\*\*\* rouges apparaissent.
2. Pour résoudre ce problème, il vous suffit d’utiliser l’outil **Dissocier (U)** pour séparer la face sélectionnée. La ligne rouge située autour du haut du mur de briques doit disparaître.

![](../../.gitbook/assets/watertightness\_8\_fixed\_combined\_annotated.png)

_**Remarque :**_ _vous pouvez aussi rapidement savoir que vous avez sélectionné une géométrie groupée grâce à la zone de contour bleue en pointillés située autour de la géométrie sélectionnée. Les faces et les arêtes non groupées ne sont pas comprises dans cette zone de délimitation._

4 – Ensuite, résolvez l’autre petit problème d’étanchéité encore surligné en rouge.

1. Effectuez un zoom et faites pivoter le modèle jusqu’à ce que vous puissiez distinguer clairement le problème d’étanchéité et le petit espace triangulaire.
2. En mode de modification de groupe, utilisez l’outil **Ligne (L)** pour tracer une ligne sur l’une des plus longues arêtes du trou triangulaire, puis appuyez deux fois sur **Échap** pour quitter l’outil Ligne.

![](<../../.gitbook/assets/5 (9).png>)

_**Remarque :**_ _lorsque vous tracez une ligne, FormIt crée automatiquement une surface pour remplir l’espace triangulaire. Cela se produit chaque fois que vous tracez ou complétez un groupe de lignes coplanaires._

5 – Les lignes étanches rouges devraient maintenant avoir disparu. Pour finir, retirez l’arête indésirable restant, puis revérifiez le volume du groupe :

1. Pour supprimer l’arête indésirable, utilisez l’outil **Fusionner (MG)**. Cet outil permet de joindre les surfaces coplanaires et de supprimer toutes les arêtes supplémentaires en un seul clic. Pour ce faire, double-cliquez sur le mur de briques pour sélectionner toutes ses surfaces et arêtes, puis cliquez avec le bouton droit de la souris pour afficher le menu contextuel et sélectionnez **Fusionner (MG)**.
2. Appuyez sur la touche **Échap** ou **F** pour terminer et quitter la modification du groupe. Ensuite, cliquez une fois sur le groupe **Exterior Masonry** (Maçonnerie extérieure) pour le sélectionner à nouveau, puis rouvrez la **palette Propriétés**, si ce n’est pas déjà fait.
3. Maintenant que le groupe est étanche, FormIt peut calculer le **volume** du mur pour nous !

![](<../../.gitbook/assets/6 (10).png>)

_**Remarque :**_ _l’option_ _**Identifier les problèmes d’étanchéité**, ainsi que l’analyse des solides afin d’identifier des problèmes, servent aussi à détecter les arêtes isolées autour de votre modèle. Essayez-les !_

6 – N’oubliez pas de désactiver l’option **Identifier les problèmes d’étanchéité** lorsque vous avez terminé. Sinon, chaque arête isolée de votre modèle est mise en surbrillance en rouge.

## Identifier les faces arrière

_Dans FormIt, lorsque vous peignez une surface avec un matériau, celui-ci est automatiquement appliqué aux deux côtés. Toutefois, d’autres logiciels de visualisation et de modélisation 3D peuvent générer une surface différemment en fonction du côté visible : « avant » ou « arrière ». Heureusement, FormIt permet de le vérifier facilement !_

1 – Examinez le groupe **NE Building** (Bâtiment NE) existant. Accédez à la **palette Scènes** et double-cliquez sur la scène **Default Visibility** (Visibilité par défaut) pour réinitialiser la visibilité des calques.

2 – Cette fois-ci, au lieu d’utiliser des calques, double-cliquez sur le groupe **NE Building** (Bâtiment NE) pour le modifier, puis une nouvelle fois sur le groupe **Exterior Masonry** (Maçonnerie extérieure) pour le modifier.

3 – Faites tourner la vue en orbite jusqu’à ce que vous puissiez distinguer la façade avant de ce bâtiment, puis activez l’option **Masquer le contexte du groupe (H)** afin de n’afficher que les murs de brique. Vous pouvez maintenant vérifier si des faces arrière sont visibles :

1. Ouvrez à nouveau la **palette Styles visuels**.
2. Si ce n’est pas déjà fait, cliquez sur le bouton **Diagnostics du modèle** (icône de clé) situé dans la partie supérieure droite.
3. Si ce n’est pas déjà fait, décochez la case **Identifier les problèmes d’étanchéité**, puis cochez la case **Identifier les faces arrière**.

![](<../../.gitbook/assets/7 (2).png>)

4 – Trois (3) faces arrière sont mises en surbrillance avec la couleur « back face » (face arrière) par défaut de FormIt, mais en raison de sa ressemblance avec la brique, elles sont difficiles à distinguer. Pour résoudre ce problème, activez l’option **Surfaces monotones** :

1. Pour afficher les options de styles visuels de surface, dans la **palette Styles visuels**, cliquez sur le bouton **Surfaces** (icône de cube solide) situé dans la partie supérieure gauche.
2. Cochez la case en regard de l’option **Surfaces monotones**. Les faces arrière sont désormais plus faciles à distinguer.

![](<../../.gitbook/assets/8 (4).png>)

_**Remarque :**_ _lorsque la case_ _**Faces arrière**_ _et la couleur dans l’onglet_ _**Surfaces**_ _(à ne pas confondre avec l’outil de diagnostic_ _**Identifier les faces arrière)**_ _, sont activées, l’utilisateur peut peindre les deux côtés d’une face avec des matériaux différents. Les faces arrière auxquelles aucun matériau n’est affecté sont colorées avec la couleur définie dans la zone située à droite de la case à cocher_ _**Faces arrière**_ _. Cette option est activée par défaut lorsque vous travaillez avec une géométrie importée à partir d’un logiciel qui permet par défaut d’appliquer différents matériaux aux côtés opposés d’une face, comme SketchUp._

5 – Il ne reste plus qu’à retourner les faces « arrière » pour n’afficher que les faces avant. Double-cliquez sur le groupe **Exterior Masonry** (Maçonnerie extérieure) pour le modifier. Ensuite, pour chacune des faces arrière, procédez comme suit :

1. Effectuez un zoom avant et cliquez avec le bouton droit de la souris sur une face arrière pour afficher le **menu contextuel**.
2. Sélectionnez **Inverser la face (FF)** ou tapez le raccourci clavier **FF**.

![](<../../.gitbook/assets/9 (2).png>)

_**Remarque :**_ _vous pouvez également maintenir la touche_ _**Ctrl**_ _ou_ _**Maj**_ _et cliquer sur chaque face arrière pour toutes les sélectionner ensemble. Ensuite, pour toutes les inverser simultanément, appuyez sur la touche_ _**FF**._

6 – N’oubliez pas de désactiver les options **Surfaces monotones** et **Identifier les faces arrière** pour afficher à nouveau les matériaux standard.

## Afficher les zones de contour de groupe

_Cet outil vous permet d’afficher les zones de délimitation de tous les groupes du modèle simultanément, que leur calque soit visible ou non. Cela peut vous aider à identifier rapidement les groupes dont les étendues sont beaucoup plus grandes qu’elles ne devraient l’être, ainsi que les groupes avec des orientations d’axe différentes._

1 – Pour rendre visibles toutes les zones de délimitation du groupe dans le modèle, procédez comme suit :

1. Ouvrez la **palette Styles visuels**.
2. Cliquez sur le bouton **Diagnostics du modèle** (icône de clé) situé dans la partie supérieure droite.
3. Cochez la case **Afficher les zones de contour de groupe** et désélectionnez toutes les autres cases qui sont toujours cochées.
4. Effectuez un zoom arrière à l’aide de la molette de la souris ou en cliquant sur l’outil **Zoom (Z)** dans la **barre d’outils de navigation flottante** jusqu’à ce que vous puissiez distinguer toutes les zones de délimitation bleues en pointillés sur la zone de dessin.
5. Même si la plupart des calques sont toujours désactivés, notez qu’il est possible que la zone de contour de groupe affichée semble trop grande.

![](<../../.gitbook/assets/10 (4).png>)

_**Remarque :**_ _certaines zones de délimitation de cette vue ont des angles différents. La zone de contour d’un groupe est orientée le long de l’axe de ce groupe. Par conséquent, pour déterminer rapidement l’orientation de base de l’axe interne d’un groupe, il suffit d’observer sa zone de contour._

2 – Pour découvrir l’origine de la grandeur de cette zone de contour, activez tous les calques à l’aide d’une scène prédéfinie et essayez de résoudre le problème :

1. Ouvrez la **palette** **Scènes**.
2. Double-cliquez sur la scène nommée **Default Visibility** (Visibilité par défaut) pour réactiver tous les calques principaux.
3. Vous voyez la ligne verticale dans le coin le plus éloigné de la plus grande zone de contour ? Double-cliquez dessus pour modifier le groupe auquel il appartient, sélectionnez la ligne et supprimez-la. Quittez ensuite ce groupe.

![](<../../.gitbook/assets/11 (4).png>)

3 – Lorsque vous examinez toutes les zones de contour du groupe, vous constatez qu’aucune zone de contour n’est plus grande que prévu par rapport à la géométrie du modèle.

![](<../../.gitbook/assets/12 (5).png>)
