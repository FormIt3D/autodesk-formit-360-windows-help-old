# 2.7 - 診斷工具

2.7 - 診斷工具

FormIt 隨附一些有用的內建模型診斷工具，可協助保持模型整潔健全，包括檢查防水幾何圖形、識別翻轉的面，以及一次檢視所有群組邊界框。

_在本章中，我們將識別並修正_ _**Encode Campus Sample Model.axm**中建置的一些錯誤。如果您還沒下載，可以從_ _**FormIt 入門手冊第 2 部分資料集**下載檔案。_

_如需修復模型的更多資訊，請造訪_[_**修復實體模型**_](https://formit.autodesk.com/blog/post/repairing-solid-models)_(英文) FormIt 部落格文章。_

## 找出防水問題

_防水模型或群組是一種沒有間隙、迷失邊或其他_[_**非流形幾何圖形**_](https://knowledge.autodesk.com/zh-hans/support/maya/learn-explore/caas/CloudHelp/cloudhelp/2016/CHS/Maya/files/GUID-8E97CEF7-1CFE-4838-B4B7-59F526E21AB2-htm.html)_的實體物件。檢查防水性對於計算體積、執行精確的日光和能源分析、將模型匯出為其他檔案格式，以及準備模型以用於 3D 列印或製造來說，都非常重要。_

1 - 開啟 **Encode Campus Sample Model.axm** 後，我們將調整圖層可見性，以隔離我們要檢查其防水性的幾何圖形：

1. 開啟**「圖層」選項板**。
2. 按一下圖層清單內的任意位置，然後按 **Ctrl + A** 選取所有圖層。
3. 按一下目前開啟的任何圖層勾選方塊，所有圖層都將關閉。
4. 在「圖層」選項板頂端附近的**「篩選」**輸入方塊中，開始鍵入 **Exterior Masonry**，直到您看到我們想要的圖層。
5. 按一下勾選方塊以開啟 **Encode Main Building – Exterior Masonry** 圖層。
6. 在**「浮動導覽列」**中，按一下**「縮放全部 (ZA)」**按鈕。您現在應該只能看到主建築的外部磚牆。

![](<../../.gitbook/assets/0 (18).png>)

![](<../../.gitbook/assets/1 (8).png>)

2 - 我們現在檢查是否有任何防水問題！

1. 開啟**「視覺型式」選項板**。
2. 選取右上角的**「模型診斷」**頁籤 (扳手圖示)。
3. 勾選**「找出防水問題」**旁邊的方塊。
4. 任何防水問題都會以紅色亮顯。此範例中有兩個問題，沿著牆整個頂面有一個，建築後面的窗間有一個。
5. 在解決這些問題之前，請選取**「Exterior Masonry」**群組，開啟**「性質」選項板**，並注意**「體積」**性質為 **0 cu ft**。這是因為群組不是防水的，因此無法計算其體積。

![](<../../.gitbook/assets/2 (16).png>)

_**注意事項：**_ _任何模型材料 (不透明或透明) 都會顯現出亮顯的紅色防水問題，讓人容易發現。_

![](<../../.gitbook/assets/3 (5) (1).png>)

3 - 現在，我們發現了防水問題，可以解決這些問題。首先，我們處理牆的頂面。

1. 按兩下**「Exterior Masonry」**群組進行編輯，然後拉近並選取牆的頂面。在**「性質」選項板**中，請注意牆的頂面實際上是它自己的群組。在 FormIt 中，防水幾何圖形必須由單一群組組成，因此我們會看到這些\*\*\*\*紅線。
2. 若要解決此問題，只需將選取的面**解除群組 (U)**，磚牆頂部周圍的紅線就會消失。

![](../../.gitbook/assets/watertightness\_8\_fixed\_combined\_annotated.png)

_**注意事項：**_ _您也可以透過所選幾何圖形周圍的藍色虛線邊界框，快速得知您已選取群組的幾何圖形。未群組的面和邊不會有此特徵。_

4 - 我們現在處理另一個仍以紅色亮顯的小防水問題。

1. 縮放並旋轉模型，直到您可以清楚地看到小三角形間隙。找出有防水問題的區域，以便您可以看到三角形間隙。
2. 仍處於群組編輯模式時，請使用**線 (L)** 工具追蹤穿過三角形孔其中一條較長邊的直線，然後按兩次 **Esc** 結束線工具。

![](<../../.gitbook/assets/5 (9).png>)

_**注意事項：**_ _FormIt 在繪製單一線條後會自動建立一個表面以填入三角形間隙。每當您追蹤或完成一組共平面的線條時，就會發生此情況。_

5 - 紅色防水線現在應該已消失。為了完成，我們將移除剩餘不需要的邊，然後重新檢查群組的體積：

1. 若要刪除不需要的邊，請嘗試使用**合併 (MG)** 工具。此工具將接合所有共平面的表面，按一下即可刪除所有多餘的邊。若要執行此作業，請按兩下磚牆以選取其所有表面和邊緣，按一下右鍵以顯示關聯式功能表，然後選取**「合併 (MG)」**。
2. 按 **Esc** 或 **F** 完成並結束群組編輯。然後按一下**「Exterior Masonry」**群組再次選取它，並重新開啟**「性質」選項板** (如果尚未開啟)。
3. 現在群組是防水的，FormIt 可以為我們計算牆的**體積**！

![](<../../.gitbook/assets/6 (10).png>)

_**注意事項：**_ _**找出防水問題**，加上檢查實體是否存在問題，也可以用來協助尋找位於模型周圍的任何迷失邊 - 您可以試試看！_

6 - 完成後，請記得關閉**「找出防水問題」**，否則模型中的每條迷失邊都會亮顯為紅色！

## 找出背面

_在 FormIt 中，當您使用材料繪製表面時，它會自動套用到兩側。但是，其他 3D 塑型和視覺化軟體可能會根據可見的一側 (前面或後面)，以不同方式彩現表面。幸好 FormIt 有一個簡單的方式可以檢查！_

1 - 我們來看看現有的 **NE Building**。移至**「場景」選項板**，然後按兩下**「Default Visibility」**場景以重置圖層可見性。

2 - 這次不使用圖層，而是按兩下**「NE Building」**群組進行編輯，再按一下它的**「Exterior Masonry」**群組進行編輯。

3 - 環轉視圖，直到您看到該建築的正面，並啟用**「隱藏群組關聯 (H)」**，讓您只看到磚牆。現在，我們可以檢查是否有任何背面可見：

1. 再次開啟**「視覺型式」選項板**。
2. 如果尚未選取，請按一下右上角的**「模型診斷」**按鈕 (扳手圖示)。
3. 請除選**「找出防水問題」**勾選方塊，然後啟用**「找出背面」**勾選方塊。

![](<../../.gitbook/assets/7 (2).png>)

4 - 有 (3) 個背面以 FormIt 的預設「背面」顏色亮顯，但由於它與磚塊材料很相似，因此很難看到。若要修正此問題，我們可以啟用**「單色表面」**：

1. 若要顯示表面視覺型式選項，請在**「視覺型式」選項板**中，按一下左上角的**「表面」**按鈕 (實體立方塊圖示)。
2. 勾選**「單色表面」**旁邊的方塊。現在比較容易看到背面。

![](<../../.gitbook/assets/8 (4).png>)

_**注意事項：**_ _**「背面」**_ _勾選方塊與_ _**「表面」**_ _頁籤 (不要與_ _**找出背面**_ _診斷工具混淆) 中的顏色在開啟時，可讓使用者以不同材料繪製一面的兩側。沒有指定材料的背面將使用_ _**「背面」**_ _勾選方塊右側方塊中設定的任何顏色著色。處理從預設允許面的相對側有不同材料的軟體 (例如 SketchUp) 中匯入的幾何圖形時，預設會啟用此選項。_

5 - 現在只剩下要翻轉「背面」，讓我們只看到正面。按兩下**「Exterior Masonry」**群組進行編輯，並針對每個背面：

1. 拉近並在背面上按一下右鍵，以顯示**關聯式功能表**。
2. 選取**「反轉面 (FF)」**，或鍵入鍵盤快速鍵 **FF**。

![](<../../.gitbook/assets/9 (2).png>)

_**注意事項：**_ _您也可以按住_ _**Ctrl**_ _或_ _**Shift**_ _，並按一下每個背面以選取所有面，然後按_ _**FF** 一次翻轉所有面。_

6 - 請記得關閉**「單色表面」**和**「找出背面」**，再次查看一般材料。

## 顯示群組邊界框

_此工具可讓您一次查看模型中所有群組的邊界框，無論其圖層目前是否可見。這可協助您快速找出範圍遠比需要大很多的群組，以及軸向不同的群組。_

1 - 讓模型中所有群組邊界框可見：

1. 開啟**「視覺型式」選項板**。
2. 選取右上角的**「模型診斷」**按鈕 (扳手圖示)。
3. 啟用**「顯示群組邊界框」**勾選方塊，不勾選其他任何仍處於勾選狀態的勾選方塊。
4. 使用滑鼠滾輪或按一下**「浮動導覽工具列」**中的**「縮放 (Z)」**工具來拉遠，直到您可以看到圖元區上所有藍色虛線邊界框。
5. 即使大多數圖層仍處於關閉狀態，但請注意，我們可以看到一個群組邊界框似乎過大！

![](<../../.gitbook/assets/10 (4).png>)

_**注意事項：**_ _此視圖中某些邊界框的角度不同。群組的邊界框是沿著該群組軸轉向，因此一個快速判斷群組內部軸基本方向的方法是查看其邊界框。_

2 - 為了了解該邊界框如此大的原因，我們使用預先製作的場景開啟所有圖層，並嘗試修正問題：

1. 開啟**「場景」** **選項板**。
2. 按兩下名為 **Default Visibility** 的場景，以重新開啟所有主圖層。
3. 有看到最大邊界框對角的垂直線？按兩下垂直線以編輯它所在的群組，選取線，然後刪除。然後結束該群組。

![](<../../.gitbook/assets/11 (4).png>)

3 - 現在，當我們查看所有群組邊界框時，沒有比模型幾何圖形明顯過大的邊界框了。

![](<../../.gitbook/assets/12 (5).png>)
