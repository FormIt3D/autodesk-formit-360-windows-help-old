# 1.11 - コンテンツ ライブラリを使用してモデルを読み込む

_この章では、既存の SketchUp モデルを読み込み、FormIt コンテンツ ライブラリを使用して、Revit から変換された OOTB ファミリを配置します。FormIt で SKP ファイルを開くと、マテリアル、グループ、コンポーネント、レイヤ\(タグ\)、シーンがそのまま残っています。プロジェクトを整理された状態にするためにクリーンアップが必要になる場合があります。_

_この章では、_ **Farnsworth House Data Set > Supporting Files** フォルダのファイルを使用します。必要なフォルダやデータ セット全体をまだダウンロードしていない場合は、_**FormIt Primer Part 1 Datasets** からダウンロードしてください。_

## **SKP ファイルを読み込んで編集する**

_まず、ダウンロードしたコンテンツの一部をユーザ独自のコンテンツ ライブラリに追加する方法を説明します_。この演習では、SKP ファイルのみを使用します。他のファイル形式を開いたり読み込む方法の詳細については、[**FormIt 2021.2 の機能に関するこのブログの投稿**\(英語\)](https://formit.autodesk.com/blog/post/formit-2021-2-and-new-revit-add-in-now-available)および**この章**の**読み込みおよび書き出しファイル形式の解説**を参照してください。

1 - 開いている作業を**保存\([Ctrl]+[S]\)**し、新しい FormIt スケッチを開始します。これを実行するには、次の操作を行います。

1. **Windows タスクバー**の FormIt アイコンを右クリックして **FormIt** アイコンを選択し、新しいウィンドウで FormIt の別のセッションを開きます。これで、新しい FormIt ウィンドウが開き、2 つの FormIt セッションを並べて実行できるようになります。
2. または、保存後に**メイン メニュー** バーの**[ファイル]**ドロップダウンから**[新しいスケッチ\([Ctrl]+[N]\)]**を選択して開始します。

![](../../.gitbook/assets/0%20%2819%29.png)

2 - **Custom FormIt Content** という名前の新しいフォルダを、 **Farnsworth House Data Set** 内の _**Farnsworth House Data Set > Supporting Files > FormIt **フォルダに作成します。_

3 - 新しいスケッチをそのフォルダに**保存\([Ctrl]+[S]\)**します。名前は **Ottoman - Barcelona¥_Mies.axm** にすることをお勧めします。

4 - 新しい空の FormIt ファイルで、次の操作を行います。

1. **メイン メニュー** バーの**[ファイル]**ドロップダウンから**[読み込み] &gt; [ローカルに\([Ctrl]+[I]\)]**を選択して、ファイルを**ローカルに**読み込みます。
2. **Farnsworth House Data Set &gt; Supporting Files &gt; SketchUp** から **Ottoman – Barcelona\_Mies.skp** を選択して**[開く]**をクリックします。

_**注**_ _:_ _**Ottoman – Barcelona\_Mise.skp ファイル**が表示されない場合は、右下のファイル形式ドロップダウンが_ _**[サポートされているすべての形式]**に設定されているか確認してください。_

![](../../.gitbook/assets/1%20%287%29.png)

5 - 読み込まれたグループの名前を **Ottoman - Barcelona\_Mies** に変更します。

6 - このモデルを最終的に Farnsworth House ファイルに読み込むと、このファイルの**原点**を使用して配置されます。配置点をコントロールするには、コーナーのいずれかの位置が**原点**になるように、グループ **Ottoman - Barcelona\_Mies** を移動します。このためには、次の操作を行います。

1. **[グリッドにスナップ\(SG\)]**がオンになっていることを確認します。基準とする**線分\(L\)**の描画を、**原点**\(X、Y、Z 軸が交差する点\)から開始します。任意の場所をクリックして 2 番目の点を配置します。
2. オットマンのグループを選択し、図に示すように、脚の左下コーナーをシングルクリックして移動コマンドを開始します。_オブジェクトを移動する方法の詳細については、前の章を参照してください。_
3. 先ほど描画した基準線の始点にスナップして、グループを**原点**に移動します。
4. 基準線を削除します。

![](../../.gitbook/assets/2%20%2817%29.png)

7 - SKP ファイルとともに読み込まれた不要なレイヤは削除することをお勧めします。このモデルに含まれるすべてのレイヤが最終的に Farnsworth House モデルに読み込まれるためです。これを行うには、**[レイヤ]パレット**に移動し、**Layer 0** を選択して**[-]**ボタンをクリックします。これで、ジオメトリを維持したままレイヤが削除されます。

![](../../.gitbook/assets/3%20%2816%29.png)

_**注:**_ _レイヤを削除すると、そのレイヤのすべてのジオメトリやグループは_ _**「レイヤなし」**となります。これは、レイヤに割り当てられていないすべてのオブジェクトの既定値です。_

## **コンテンツのサムネイルを作成する**

_次の手順では、_ _**コンテンツ**_ _のサムネイルとして使用されるシーンをセットアップします。これは_ _**[コンテンツ ライブラリ]パレット**に表示されます。_

1 - サムネイル シーンのビュー設定を定義します。

1. **[表示スタイル]パレット**の**[環境]**タブで、すべてのチェックボックスをオフにし、**[下部/背景]**の色を白色に設定します。
2. ビュー モードが**[パース投影** **\(VP\)]**に設定されていることを確認します。
3. **ビューのナビゲーション ツール**を使用して拡大表示し、下図のように、オブジェクトを適切に表示するようにカメラ位置を選択します。

![](../../.gitbook/assets/4%20%2813%29.png)

2 - この設定を保存するため、シーンを作成します。

1. **[シーン]パレット**に移動します。
2. **[+]**ボタンをクリックします。これで、現在の設定に基づいて新しいシーンが作成されます。
3. 名前を **Thumbnail** に変更し、少なくとも最初の 4 つのチェックボックス\(**[カメラ]**、**[レイヤ]**、**[太陽と日影]**、**[表示スタイル]**\)がオンになっていることを確認します。残りのシーン設定は、サムネイル イメージの作成には関係ありません。
4. **[シーンを更新]**ボタンを使用すると、現在のカメラ ビューと表示設定に合わせて**シーン**をいつでも更新できます。

![](../../.gitbook/assets/5%20%2811%29.png)

3 - 完成したオットマン モデルをもう一度**保存\([Ctrl]+[S]\)**します。**コンテンツのサムネイル**は、モデルが最後に保存されたときに現在のビューから作成されるため、保存する前にシーン **Thumbnail** で作業していることを確認してください。

_作成したファイルを、当社が作成したファイルと比較する場合は、_ _**Ottoman - Barcelona\_Mies.axm**_ _ファイルを開いてください。このファイルは_ _**Farnsworth House Data Set**_ _内の_ _**Farnsworth House Data Set > Supporting Files > FormIt > Furniture** に保存されています。‌_

_オットマンと同じフォルダにあるベンチと椅子の SKP ファイルを使用して、上記と同じ手順を実行することができます。_

_**ヒント:**_ _効率よく処理するために、先ほど作成した_ _**Ottoman - Barcelona\_Mies.axm**_ _ファイルをテンプレートとして使用することをお勧めします。モデリング中に、_ _**[グリッド]**_ _と_ _**[軸]**_ _を_ _**[表示スタイル]パレット**で再度オンにすることが必要となる場合があります。家具ごとに_ _**シーンThumbnail**_ _のカメラ位置のみを調整することで、_ _**コンテンツのサムネイル**_ _をすべてのコンテンツ モデルで一貫した状態に保つことができます。_

## **コンテンツ ライブラリにリンクする**

Farnsworth House プロジェクトに戻ります。_**Farnsworth House Data Set**内の**FormIt** フォルダをリンクして、先ほど作成した_ **Custom FormIt Content** _を含むすべてのファイルにプロジェクト内から簡単にアクセスする方法について学習します。_

1 - Farnsworth House モデルに戻るか、再度開きます。_直前の章を完了していない場合は、_ _**Farnsworth House Data Set**_ _から_ _**1.11 - Import Models with Content Library.axm**ファイルをダウンロードして開きます。_

1. **[コンテンツ ライブラリ]パレット**を開き、**[コンテンツ ライブラリ フォルダをリンク]**アイコンをクリックします。**[基本設定]**ウィンドウが表示され、**[コンテンツ ライブラリ]**タブが開きます。
2. **[+]**アイコンをクリックして、**新しいコンテンツ ライブラリの場所を追加**します。お使いのコンピュータのフォルダをナビゲートして選択するための、3 つ目のウィンドウが表示されます。
3. __**Farnsworth House Data Set** で、**Supporting Files &gt; FormIt** フォルダにナビゲートします。__この章で先ほど作成した **.axm** ファイルを含むフォルダを見つけます。**FormIt** フォルダをダブルクリックして選択します。
4. **[フォルダを選択]**をクリックすると、そのフォルダのパスが**[ライブラリの場所]の[ローカル]**パネルに表示されます。
5. **[基本設定]**ウィンドウに戻り、**[OK]**をクリックすると、リンクされたフォルダが**コンテンツ ライブラリ**に追加されます。
6. この新しいライブラリにアクセスするには、**[コンテンツ ライブラリ]パレット**の上部にあるドロップダウン メニューを開き、**[FormIt]**を選択します。
7. フォルダ構造と、リンクされたフォルダ内のすべての **.axm** ファイルが**[コンテンツ ライブラリ]パレット**に表示されます。サブフォルダをダブルクリックすると、その中のファイルにアクセスできます。

![](../../.gitbook/assets/link-library-content.png)

**注:** **Autodesk Docs** \(以前は Autodesk 360 と呼ばれていました\)にアクセスできる場合は、**[コンテンツ ライブラリ]**ドロップダウン メニューを使用して、そこに保存されているファイルにアクセスすることもできます。

## **ライブラリからコンテンツを配置する**

作成したコンテンツ アイテムを Farnsworth モデル内に配置します。__

1 - 家の中を見て家具を配置できるように、レイヤ **Roof** をオフにして、Main Building Floor 全体が見えるようになるまでパース ビューを**オービット\(O\)**します。

2 - **[コンテンツ ライブラリ]パレット**に戻り、ドロップダウンが **FormIt** に設定されたままであることを確認します。先ほど作成した家具を配置する前に、家の「コア」を配置する必要があります。

1. **Other** という名前のフォルダをクリックして開き、サムネイル **Farnsworth House - Core** をクリックして選択します。
2. **Main Building Floor** の上にマウスを合わせて、床の**図心**をクリックして **Core** を配置します。
3. FormIt フォルダに戻るには、**[上にナビゲート]**ボタンを使用します。

![](../../.gitbook/assets/7%20%282%29.jpeg)

3 - カメラを**[正投影\(VO\)]**、**[上面ビュー\(VT\)]**に設定し、**Main Building Floor** をオフにして **Plan Image** を表示します。**ビュー**と**レイヤ**の設定の詳細については、前の章を参照してください。

4 - **Farnsworth House - Core** を選択し、Plan Image に近い位置に配置されるまで移動します。

![](../../.gitbook/assets/8%20%281%29.png)

_**注**_ _:_ _**Core**を移動する際は、高さを変更しないように注意してください。たとえば_ _**[Shift]**_ _キーを使用して移動が常に軸の 1 つに沿うように制限したり、_ _**Core**_ _自体ではなく_ _**Plan Image**のみをクリックして_ _**[移動\(M\)]**_ _コマンドので開始参照点と終了参照点を同じ高さにすると便利です。_ _**移動\(M\)**_ _ツールの詳細については、前の章を参照してください。‌_

## **ライブラリから家具を配置する**

1 - 同様のプロセスを使用すると、この章で最初に作成した家具を **Custom FormIt Content** フォルダから配置できます。3 つの SKP ファイルすべてを変換しなかった場合は、代わりに **Furniture** フォルダ内の作成済みバージョンを使用できます。

_**注:**_

* _レイヤ_ _**Main Building Floor**_ _をオンに戻して、_ _**Main Building Floor**のサーフェスに家具を直接配置できるようにします。_
* _新しいオブジェクトを配置する際に_ _**[Tab]**_ _キーを使用すると、配置平面を切り替えることができます。_
* _新しいオブジェクトを配置する際に_ _**[Spacebar]**_ _キーを使用すると、配置前に 90 度間隔で回転させることができます。_

![](../../.gitbook/assets/9%20%283%29.png)

2 - 同様に、**コンテンツ ライブラリのサンプル**を調べて、OOTB コンテンツを配置します。多くのサンプルは、Revit のファミリ タイプと同様に、複数のサイズから選択できます。

![](../../.gitbook/assets/10%20%286%29.png)

## **スケール ツールを使用する**

1 - 先ほど学習した技法を使用して、**Farnsworth House Data Set &gt; FormIt &gt; Planting** フォルダにある **tree\_pine** コンポーネントのインスタンスを 1 つ配置します。

1. 配置したら、グループを選択して名前を **Tree** に変更します。右クリックして、**コンテキスト メニュー**から**[不均等スケール\(NU\)]**を選択します。
2. **不均等スケール ボタン**の 1 つをクリックして、グループ **Tree** のサイズと比率を必要に応じて変更します。

![](../../.gitbook/assets/11%20%283%29.png)

![](../../.gitbook/assets/12%20%282%29.png)

_**注:**_ _同様に、_ _**[スケール\(SC\)]**_ _ツールを使用すると、モデルまたはグループ全体を均一に再スケールできます。_

2 - このグループをコピーして家の周りに複数の樹木を配置し、**スケール ツール**を使用してさまざまなサイズと比率を作成します。

![](../../.gitbook/assets/13%20%286%29.png)

_**注:**_ _樹木はすべて同じグループのインスタンスですが、異なるサイズに_ _**スケール**_ _できました。グループ編集モード以外で_ _**[スケール\(SC\)]**_ _や_ _**[不均等スケール\(NU\)]**_ _を使用すると、同じグループの個々のインスタンスを変更できます。グループ_ _**Tree**_ _の 1 つを編集してそのジオメトリまたはマテリアルを変更すると、グループのすべてのインスタンスが更新されますが、各インスタンスのカスタマイズされた現在のスケールは維持されます。お試しください。_

### **モデルを整理された状態に保つ**

_追加したコンテンツは常にレイヤで分類してください。この例では、コアとすべての家具をレイヤ_ _**Main Building Floor**_ _に配置し、樹木を_ _**Planting**という名前の新しいレイヤに配置することをお勧めします。_

