# 1.11. Импорт моделей с использованием библиотеки компонентов

_В этой главе рассматривается импорт существующих моделей SketchUp, а также размещение готовых семейств, преобразованных из формата Revit, с помощью библиотеки компонентов FormIt. Обратите внимание, что при открытии файлов SKP с помощью FormIt материалы, группы, компоненты, слои \(марки\) и сцены сохраняются в неизменном виде. Для упорядочения проектов может потребоваться очистка._

_В этой главе используются файлы из папки_ **Farnsworth House Data Set > Supporting Files**. Скачайте требуемые папки из _**наборов данных для части I руководства FormIt Primer**. \(Можно скачать весь набор данных.\)_

## **Импорт и редактирование файлов SKP**

_Сначала рассмотрим процесс добавления части скачанных компонентов в личную библиотеку компонентов пользователя_. Обратите внимание, что в этом упражнении используются только файлы SKP. Дополнительные сведения об открытии и импорте файлов других форматов см. в [**публикации блога о возможностях Formit 2021.2**](https://formit.autodesk.com/blog/post/formit-2021-2-and-new-revit-add-in-now-available) и **в главе** **Дополнительные форматы импорта и экспорта файлов**.

1 - Сохраните все открытые проекты с помощью команды **Сохранить \(CTRL + S\)** и создайте новый эскиз FormIt. Это можно сделать двумя способами.

1. Откройте еще один сеанс FormIt в новом окне, щелкнув правой кнопкой мыши значок FormIt на **панели задач Windows** и выбрав значок **FormIt**. Откроется новое окно FormIt, что позволит работать в двух сеансах FormIt параллельно.
2. Сохраните проекты и выберите команду **Создать эскиз \(CTRL + N\)** в раскрывающемся меню **Файл** в **строке главного меню**.

![](../../.gitbook/assets/0%20%2819%29.png)

2 - Создайте папку с именем **Custom FormIt Content** в папке **Farnsworth House Data Set > Supporting Files > FormIt** в _**наборе данных Farnsworth House**._

3 - **Сохраните \(CTRL + S\)** новый эскиз в этой папке. Рекомендуется назвать ее **Ottoman — Barcelona\_Mies.axm**.

4 - В новом пустом файле FormIt выполните следующие действия.

1. **Импортируйте локальный файл \(CTRL + I\)**, выбрав **Импорт > Локально...** в раскрывающемся списке **Файл** в строке **главного меню**.
2. Выберите файл **Ottoman — Barcelona\_Mies.skp** в папке **Farnsworth House Data Set > Supporting Files > SketchUp** и нажмите **Открыть**.

_**Примечание.**_ _Если файл_ _**Ottoman — Barcelona\_Mise.skp** не отображается, убедитесь, что в раскрывающемся списке формата файлов в нижнем правом углу выбран вариант_ _**Все поддерживаемые форматы**._

![](../../.gitbook/assets/1%20%287%29.png)

5 - Переименуйте импортированную группу **Ottoman — Barcelona\_Mies**.

6 - При импорте этой модели в файл Farnsworth House она будет размещена с учетом точки **начала координат** этого файла. Чтобы установить первую точку размещения, необходимо переместить группу **Ottoman — Barcelona\_Mies** так, чтобы ее углы располагались в **начале координат**. Для этого выполните следующие действия.

1. Убедитесь, что включен параметр **Привязать к сетке \(SG\)**. С помощью команды **Линия \(L\)** нарисуйте вспомогательную линию от **начала координат** \(там, где пересекаются оси X, Y и Z\). Щелкните в любом месте, чтобы разместить вторую точку.
2. Выберите группу банкетки и запустите команду перемещения, щелкнув один раз в нижнем левом углу ее ножки, как показано на изображении. _Дополнительные сведения о перемещении объектов см. в предыдущих главах._
3. Переместите группу в **начало координат**, выполнив привязку к начальной точке только что нарисованной опорной линии.
4. Удалите опорную линию.

![](../../.gitbook/assets/2%20%2817%29.png)

7 - Рекомендуется удалить все ненужные слои, которые были импортированы вместе с файлом SKP, так как в противном случае все слои этой модели будут импортированы в модель дома Фарнсуорт. Для этого перейдите на **палитру слоев**, выберите **Слой 0** и нажмите кнопку **–**. Это приведет к удалению слоя с сохранением его геометрии.

![](../../.gitbook/assets/3%20%2816%29.png)

_**Примечание.**_ _При удалении слоя геометрии или группе, которые находились в этом слое, назначается статус_ _**Без слоя**. Это значение по умолчанию указано для любого объекта, которому еще не был назначен слой._

## **Создание миниатюры содержимого**

_При выполнении следующего шага будет настроена сцена, которая будет использоваться в качестве миниатюры_ _**компонентов**_ _, отображаемой на_ _**палитре библиотеки компонентов**._

1 - Чтобы задать параметры вида для сцены миниатюры, выполните следующие действия.

1. На вкладке **Среда** **палитры «Визуальные стили»** снимите все флажки и установите белый цвет для параметра **Нижний/задний план**.
2. Убедитесь, что выбран режим просмотра **Перспективный** **\(VP\)**.
3. Используйте **инструменты навигации по виду** для увеличения изображения и выбора местоположения камеры, обеспечивающего хорошую видимость объекта, как показано на изображение ниже.

![](../../.gitbook/assets/4%20%2813%29.png)

2 - Чтобы сохранить заданные параметры, создайте сцену.

1. Перейдите на **палитру «Сцены»**.
2. Нажмите кнопку **+**. Будет создана сцена на основе текущих параметров.
3. Переименуйте ее в **Thumbnail** и убедитесь, что установлены по крайней мере первые 4 \(четыре\) флажка: **Камера**, **Слои**, **Солнце и тени** и **Визуальные стили**. Остальные параметры сцены не требуются для создания миниатюры.
4. С помощью кнопки **Обновить сцену** можно в любой момент обновить **сцену** в соответствии с текущим видом камеры и параметрами отображения.

![](../../.gitbook/assets/5%20%2811%29.png)

3 - Выберите **Сохранить \(CTRL + S\)**, чтобы еще раз сохранить модель банкетки. Обратите внимание, что **миниатюра компонента** создается на основе вида, который является текущим в момент последнего сохранения модели, поэтому перед сохранением убедитесь, что вы находитесь в **сцене миниатюры**.

_При желании можно сравнить ваш файл с образцом, открыв файл_ _**Ottoman — Barcelona\_Mies.axm**_ _, сохраненный в папке_ _**Farnsworth House Data Set > Supporting Files > FormIt > Furniture**_ _в_ _**наборе данных Farnsworth House**.‌_

_Описанные выше действия можно выполнить с файлами SKP скамьи и стульев, которые находятся в той же папке, что и файл банкетки._

_**Совет.**_ _Для ускорения процесса рекомендуется использовать файл_ _**Ottoman — Barcelona\_Mies.axm**_ _, который был создан в качестве шаблона. В процессе моделирования может потребоваться снова включить_ _**сетку**_ _и_ _**оси**_ _на_ _**палитре «Визуальные стили»**. Регулируя только положение камеры_ _**сцены миниатюры**_ _для каждого элемента мебели, можно обеспечить единообразие_ _**миниатюр компонентов**_ _во всех моделях компонентов._

## **Привязка библиотеки компонентов**

_Вернитесь к проекту дома Фарнсуорт. Попробуйте присоединить папку **FormIt** в **наборе данных Farnsworth House** для легкого доступа ко всем ее файлам, включая только что созданные_ **пользовательские компоненты FormIt**, _из проекта._

1 - Вернитесь в модель дома Фарнсуорт или откройте ее снова. _Если вы не прошли предыдущую главу, скачайте и откройте файл_ _**1.11 — Import Models with Content Library.axm**_ _из_ _**набора данных Farnsworth House**._

1. Откройте **палитру Библиотеки компонентов** и щелкните значок **Привязать каталог Библиотеки компонентов**. Откроется окно **Настройки** с открытой вкладкой **Библиотека компонентов**.
2. Нажмите кнопку **+**, чтобы **добавить новое расположение Библиотеки компонентов**. Откроется третье окно для выбора папки на компьютере.
3. В _**наборе данных Farnsworth House** перейдите к папке_ _**Supporting Files > FormIt**. В ней находятся папки_ с файлами **AXM**, созданные ранее в этой главе. Дважды щелкните папку **FormIt**, чтобы выбрать ее.
4. Нажмите кнопку **Выбрать папку**, и путь к этой папке отобразится на панели **Расположения библиотек — локально**.
5. Вернувшись в окно **Настройки**, нажмите кнопку **ОК**, и привязанная папка будет добавлена в **Библиотеку компонентов**.
6. Для доступа к новой библиотеке откройте раскрывающееся меню в верхней части **палитры Библиотеки компонентов** и выберите **FormIt**.
7. Обратите внимание, что структура папок и все файлы **AXM** в привязанной папке отображаются на **палитре Библиотеки компонентов**. Дважды щелкните любую вложенную папку для доступа к находящейся в ней файлам.

![](../../.gitbook/assets/link-library-content.png)

**Примечание.** При наличии доступа к службе **Autodesk Docs** \(ранее известной как Autodesk 360\) получить файлы, которые в ней хранятся, также можно с помощью раскрывающегося меню **Библиотека компонентов**.

## **Вставка компонентов из библиотеки**

_‌Разместите созданные компоненты в модели Farnsworth._

1 - Чтобы видеть внутреннюю часть дома для размещения мебели, отключите слой **Roof** и с помощью инструмента **Орбита \(O\)** поверните вид в перспективе таким образом, чтобы отображался весь пол главного здания.

2 - Вернитесь на **палитру Библиотеки компонентов** и убедитесь, что в раскрывающемся списке по-прежнему выбран пункт **FormIt**. Перед тем как разместить созданную мебель, нужно добавить основой блок дома.

1. Щелкните папку **Other**, чтобы открыть ее, и выберите миниатюру **Farnsworth House — Core**.
2. Наведите указатель на **пол главного здания** и щелкните **центр тяжести** пола для размещения **основного блока**.
3. Для возврата к папке FormIt нажмите кнопку **Перейти вверх**.

![](../../.gitbook/assets/7%20%282%29.jpeg)

3 - Установите камеру в режим **Ортогональный \(VO\)**, **Вид сверху \(VT\)** и поверните **пол главного здания**, чтобы видеть **изображение плана**. Дополнительные сведения о функциях **Виды** и **Слои** см. в предыдущих главах.

4 - Выберите **Farnsworth House — Core** и переместите элемент, максимально выровняв его относительно изображения плана.

![](../../.gitbook/assets/8%20%281%29.png)

_**Примечание.**_ _При перемещении_ _**основного блока** не меняйте его отметку. Можно использовать клавишу_ _**SHIFT**_ _, чтобы привязать движение к одной из осей, или расположить начальную и конечную опорные точки команды_ _**Переместить \(M\)**_ _на одной высоте, щелкнув только_ _**изображение плана**, а не сам_ _**основной блок**_ _. Дополнительные сведения об инструменте_ _**Переместить \(M\)**_ _см. в предыдущих главах.‌_

## **Вставка мебели из библиотеки**

1. Аналогичным образом можно вставить мебель, созданную ранее в этой главе, из папки **Custom FormIt Content**. Если не удалось преобразовать все 3 \(три\) файла SKP, можно использовать готовые версии в папке **Furniture**.

_**Примечания.**_

* _Включите слой_ _**Main Building Floor**_ _, чтобы разместить мебель непосредственно на поверхности_ _**пола главного здания**._
* _При размещении нового объекта используйте клавишу_ _**TAB**_ _для переключения между плоскостями размещения._
* _Перед размещением нового объекта его можно повернуть на 90 градусов с помощью клавиши_ _**Пробел**_ _._

![](../../.gitbook/assets/9%20%283%29.png)

2. Аналогичным образом, чтобы разместить готовые компоненты, воспользуйтесь **образцами из Библиотеки компонентов**. Обратите внимание, что, как и в случае с типоразмерами в семействе в Revit, для многих из них можно выбрать различные размеры.

![](../../.gitbook/assets/10%20%286%29.png)

## **Использование инструмента масштабирования**

1 - Используя приемы, о которых вы только что узнали, разместите один экземпляр компонента **tree\_pine** из папки **Farnsworth House Data Set > FormIt > Planting**.

1. После размещения выберите группу и переименуйте ее в **Tree**. Щелкните правой кнопкой мыши для вызова **контекстного меню** и выберите **Непропорциональное масштабирование \(NU\)**.
2. Нажмите одну из **кнопок непропорционального масштабирования**, чтобы изменить размер и пропорции группы **Tree**.

![](../../.gitbook/assets/11%20%283%29.png)

![](../../.gitbook/assets/12%20%282%29.png)

_**Примечание.**_ _Аналогичным образом, для масштабирования всей модели или группы целиком можно использовать инструмент_ _**Масштаб \(SC\)**_ _._

2 - Скопируйте эту группу и разместите несколько деревьев вокруг дома, используя **инструменты масштабирования** для настройки различных размеров и пропорций.

![](../../.gitbook/assets/13%20%286%29.png)

_**Примечание.**_ _Несмотря на то, что все деревья являются экземплярами одной группы, можно_ _**масштабировать**_ _их, чтобы получить различные размеры. Используя инструменты_ _**Масштаб \(SC\)**_ _и_ _**Непропорциональное масштабирование \(NU\)**_ _не в режиме редактирования группы, можно изменять отдельные экземпляры одной и той же группы. Если отредактировать одну из групп_ _**Tree**_ _, изменив ее геометрию или материал, все экземпляры группы будут обновлены, но сохранят свой текущий масштаб. Попробуйте!_

### **Упорядочение данных модели**

_Не забывайте рассортировывать добавляемые компоненты по слоям. В этом примере рекомендуется разместить основной блок и всю мебель в слое_ _**Non-Uniform Scale**_ _, а деревья — на новом слое_ _**Planting**._

